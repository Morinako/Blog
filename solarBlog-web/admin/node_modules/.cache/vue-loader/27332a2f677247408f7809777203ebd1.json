{"remainingRequest":"D:\\solarBlog-master\\solarBlog-master\\solarBlog-web\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\solarBlog-master\\solarBlog-master\\solarBlog-web\\admin\\src\\views\\chat\\Chat.vue?vue&type=style&index=0&id=27a533a5&scoped=true&lang=css&","dependencies":[{"path":"D:\\solarBlog-master\\solarBlog-master\\solarBlog-web\\admin\\src\\views\\chat\\Chat.vue","mtime":1692914156000},{"path":"D:\\solarBlog-master\\solarBlog-master\\solarBlog-web\\admin\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\solarBlog-master\\solarBlog-master\\solarBlog-web\\admin\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\solarBlog-master\\solarBlog-master\\solarBlog-web\\admin\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\solarBlog-master\\solarBlog-master\\solarBlog-web\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\solarBlog-master\\solarBlog-master\\solarBlog-web\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouY29tbWVudC1jb250ZW50IHsKICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKfQo="},{"version":3,"sources":["Chat.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyLA;AACA;AACA","file":"Chat.vue","sourceRoot":"src/views/chat","sourcesContent":["<template>\n    <el-card class=\"main-card\">\n        <div class=\"title\">{{ this.$route.name }}</div>\n        <!-- 表格操作 -->\n        <div class=\"operation-container\">\n            <el-button\n                    type=\"danger\"\n                    size=\"small\"\n                    icon=\"el-icon-delete\"\n                    :disabled=\"chatRecordIdList.length === 0\"\n                    @click=\"deleteFlag = true\"\n            >\n                批量删除\n            </el-button>\n        </div>\n        <!-- 表格展示 -->\n        <el-table\n                border\n                v-loading=\"loading\"\n                :data=\"chatRecordList\"\n                @selection-change=\"selectionChange\"\n        >\n            <!-- 表格列 -->\n            <el-table-column type=\"selection\" width=\"55\" />\n            <el-table-column prop=\"avatar\" label=\"头像\" align=\"center\" width=\"150\">\n                <template slot-scope=\"scope\">\n                    <img :src=\"scope.row.avatar\" width=\"40\" height=\"40\" />\n                </template>\n            </el-table-column>\n            <el-table-column\n                    prop=\"nickname\"\n                    label=\"聊天昵称\"\n                    align=\"center\"\n                    width=\"150\"\n            />\n            <el-table-column prop=\"content\" label=\"聊天内容\" align=\"center\">\n                <template slot-scope=\"scope\">\n                    <span v-html=\"scope.row.content\" class=\"comment-content\" />\n                </template>\n            </el-table-column>\n            <el-table-column\n                    prop=\"ipAddress\"\n                    label=\"ip地址\"\n                    align=\"center\"\n                    width=\"190\"\n            />\n            <el-table-column\n                    prop=\"ipSource\"\n                    label=\"ip来源\"\n                    align=\"center\"\n                    width=\"90\"\n            />\n            <el-table-column\n                    prop=\"createTime\"\n                    label=\"发布时间\"\n                    width=\"230\"\n                    align=\"center\"\n            >\n                <template slot-scope=\"scope\">\n                    <i class=\"el-icon-time\" style=\"margin-right:5px\" />\n                    {{ scope.row.createTime | dateTime }}\n                </template>\n            </el-table-column>\n            <!-- 列操作 -->\n            <el-table-column label=\"操作\" width=\"160\" align=\"center\">\n                <template slot-scope=\"scope\">\n                    <el-popconfirm\n                            style=\"margin-left:10px\"\n                            title=\"确定删除吗？\"\n                            @confirm=\"deleteChatRecord(scope.row.id)\"\n                    >\n                        <el-button size=\"mini\" type=\"danger\" slot=\"reference\">\n                            删除\n                        </el-button>\n                    </el-popconfirm>\n                </template>\n            </el-table-column>\n        </el-table>\n        <!-- 分页 -->\n        <el-pagination\n                class=\"pagination-container\"\n                background\n                @size-change=\"sizeChange\"\n                @current-change=\"currentChange\"\n                :current-page=\"current\"\n                :page-size=\"size\"\n                :total=\"count\"\n                :page-sizes=\"[5,10,30,50,100]\"\n                layout=\"total, sizes, prev, pager, next, jumper\"\n        />\n        <!-- 批量删除对话框 -->\n        <el-dialog :visible.sync=\"deleteFlag\" width=\"30%\" :close-on-click-modal=\"false\">\n            <div class=\"dialog-title-container\" slot=\"title\">\n                <i class=\"el-icon-warning\" style=\"color:#ff9900\" />提示\n            </div>\n            <div style=\"font-size:1rem\">是否删除选中项？</div>\n            <div slot=\"footer\">\n                <el-button @click=\"deleteFlag = false\">取 消</el-button>\n                <el-button type=\"primary\" @click=\"deleteChatRecord(null)\">\n                    确 定\n                </el-button>\n            </div>\n        </el-dialog>\n    </el-card>\n</template>\n\n<script>\n    import {deleteChatRecord, getChatRecordList} from \"../../api/system\";\n\n    export default {\n        name: \"Chat\",\n        data() {\n            return {\n                loading: true,\n                deleteFlag: false,\n                chatRecordIdList: [],\n                chatRecordList: [],\n                keywords: null,\n                isReview: null,\n                current: 1,\n                size: 10,\n                count: 0\n            }\n        },\n        created() {\n            this.getList()\n        },\n        methods: {\n            getList() {\n                const params = {\n                    current: this.current,\n                    size: this.size,\n                };\n                getChatRecordList(params).then(res => {\n                    this.chatRecordList = res.data.data.recordList;\n                    this.count = res.data.data.count;\n                    this.loading = false;\n                })\n            },\n            selectionChange(chatRecordList) {\n                this.chatRecordIdList = [];\n                chatRecordList.forEach(item => {\n                    this.chatRecordIdList.push(item.id);\n                });\n            },\n            searchMessages() {\n                this.current = 1;\n                this.getList();\n            },\n            sizeChange(size) {\n                this.size = size;\n                this.getList();\n            },\n            currentChange(current) {\n                this.current = current;\n                this.getList();\n            },\n            deleteChatRecord(id) {\n                let param = {};\n                if (id != null) {\n                    param = { data: [id] };\n                } else {\n                    param = { data: this.chatRecordIdList };\n                }\n                deleteChatRecord(param.data).then(({ data }) => {\n                    if (data.flag) {\n                        this.$notify.success({\n                            title: \"成功\",\n                            message: data.message\n                        });\n                        this.getList();\n                    } else {\n                        this.$notify.error({\n                            title: \"失败\",\n                            message: data.message\n                        });\n                    }\n                    this.deleteFlag = false;\n                });\n            },\n        }\n    }\n</script>\n\n<style scoped>\n    .comment-content {\n        display: inline-block;\n    }\n</style>\n"]}]}