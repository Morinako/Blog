{"remainingRequest":"D:\\solarBlog-master\\solarBlog-master\\solarBlog-web\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\solarBlog-master\\solarBlog-master\\solarBlog-web\\admin\\src\\components\\TranslateLogin\\TranslateLogin.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\solarBlog-master\\solarBlog-master\\solarBlog-web\\admin\\src\\components\\TranslateLogin\\TranslateLogin.vue","mtime":1692914156000},{"path":"D:\\solarBlog-master\\solarBlog-master\\solarBlog-web\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\solarBlog-master\\solarBlog-master\\solarBlog-web\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\solarBlog-master\\solarBlog-master\\solarBlog-web\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\solarBlog-master\\solarBlog-master\\solarBlog-web\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7Z2VuZXJhTWVudX0gZnJvbSAiLi4vLi4vYXNzZXRzL2pzL21lbnUiOwppbXBvcnQge2FkbWluTG9naW59IGZyb20gIi4uLy4uL2FwaS91c2VyIjsKCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJUcmFuc2xhdGVMb2dpbiIsCiAgICBkYXRhKCl7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgaXNUcmFuc2Zvcm06IGZhbHNlLAogICAgICAgICAgICBsb2dpbkxvYWRpbmc6IGZhbHNlLAogICAgICAgICAgICByZWdpc3RlckZvcm06ewogICAgICAgICAgICAgICAgdXNlcm5hbWU6ICIiLAogICAgICAgICAgICAgICAgcGFzc3dvcmQ6ICIiLAogICAgICAgICAgICB9LAogICAgICAgICAgICBsb2dpbkZvcm06ewogICAgICAgICAgICAgICAgdXNlcm5hbWU6ICIiLAogICAgICAgICAgICAgICAgcGFzc3dvcmQ6ICIiLAogICAgICAgICAgICB9LAogICAgICAgICAgICBydWxlczogewogICAgICAgICAgICAgICAgdXNlcm5hbWU6IFsKICAgICAgICAgICAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6LSm5Y+35LiN6IO95Li656m6IiwgdHJpZ2dlcjogWydibHVyJywnY2hhbmdlJ10gfSwKICAgICAgICAgICAgICAgICAgICB7IHR5cGU6ICdlbWFpbCcsIG1lc3NhZ2U6ICLor7fovpPlhaXmraPnoa7nmoTpgq7nrrHmoLzlvI8iLCB0cmlnZ2VyOiBbJ2JsdXInLCdjaGFuZ2UnXSB9CiAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICAgcGFzc3dvcmQ6IFsKICAgICAgICAgICAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi5a+G56CB5LiN6IO95Li656m6IiwgdHJpZ2dlcjogWydibHVyJywnY2hhbmdlJ10gfSwKICAgICAgICAgICAgICAgICAgICB7IG1pbjogNiwgbWVzc2FnZTogIuWvhueggeS4jeiDveWwkeS6jjbkvY0iLCB0cmlnZ2VyOiBbJ2JsdXInLCdjaGFuZ2UnXSB9CiAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIGFkbWluUmVnaXN0ZXIoKSB7CiAgICAgICAgICAgIHRoaXMuaXNUcmFuc2Zvcm0gPSB0cnVlOwogICAgICAgIH0sCiAgICAgICAgYWRtaW5Mb2dpbigpIHsKICAgICAgICAgICAgdGhpcy5pc1RyYW5zZm9ybSA9IGZhbHNlOwogICAgICAgIH0sCiAgICAgICAgZXhlY3V0ZUxvZ2luKCkgewogICAgICAgICAgICBjb25zdCB0aGF0ID0gdGhpcwogICAgICAgICAgICB0aGlzLmxvZ2luTG9hZGluZyA9IHRydWUKICAgICAgICAgICAgLy/lj5HpgIHnmbvlvZXor7fmsYIKICAgICAgICAgICAgbGV0IHBhcmFtID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpOwogICAgICAgICAgICBwYXJhbS5hcHBlbmQoInVzZXJuYW1lIiwgdGhhdC5sb2dpbkZvcm0udXNlcm5hbWUpOwogICAgICAgICAgICBwYXJhbS5hcHBlbmQoInBhc3N3b3JkIiwgdGhhdC5sb2dpbkZvcm0ucGFzc3dvcmQpOwogICAgICAgICAgICBhZG1pbkxvZ2luKHBhcmFtKS50aGVuKCh7IGRhdGEgfSkgPT4gewogICAgICAgICAgICAgICAgaWYgKGRhdGEuZmxhZykgewogICAgICAgICAgICAgICAgICAgIC8vIOeZu+W9leWQjuS/neWtmOeUqOaIt+S/oeaBrwogICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgibG9naW4iLCBkYXRhLmRhdGEpOwogICAgICAgICAgICAgICAgICAgIC8vIOWKoOi9veeUqOaIt+iPnOWNlQogICAgICAgICAgICAgICAgICAgIGdlbmVyYU1lbnUoKTsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoIueZu+W9leaIkOWKnyIpOwogICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgcGF0aDogIi8iIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKGRhdGEubWVzc2FnZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB0aGlzLmxvZ2luTG9hZGluZyA9IGZhbHNlCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgIHRoaXMubG9naW5Mb2FkaW5nID0gZmFsc2UKICAgICAgICAgICAgfSwxMDAwKQogICAgICAgIH0sCiAgICAgICAgaGFuZGxlTG9naW4oKXsKICAgICAgICAgICAgY29uc3QgdGhhdCA9IHRoaXMKICAgICAgICAgICAgdGhpcy4kcmVmc1snbG9naW5Gb3JtJ10udmFsaWRhdGUodmFsaWQgPT57CiAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWYKICAgICAgICAgICAgICAgICAgICBjb25zdCBjYXB0Y2hhID0gbmV3IFRlbmNlbnRDYXB0Y2hhKAogICAgICAgICAgICAgICAgICAgICAgICB0aGF0LmNvbmZpZy5URU5DRU5UX0NBUFRDSEEsCiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMucmV0ID09PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5leGVjdXRlTG9naW4oKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgICAgICAvLyDpqozor4HlpLHotKXvvIzmmL7npLrpqozor4HnoIEKICAgICAgICAgICAgICAgICAgICBjYXB0Y2hhLnNob3coKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIGhhbmRsZVJlZ2lzdGVyKCkgewogICAgICAgICAgICB0aGlzLmxvZ2luTG9hZGluZyA9IHRydWUKICAgICAgICAgICAgc2V0VGltZW91dCgoKT0+ewogICAgICAgICAgICAgICAgdGhpcy4kbm90aWZ5LmVycm9yKHsKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAn5rOo5YaM5aSx6LSlIeivt+iBlOezu+euoeeQhuWRmCEnLAogICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAxMDAwCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgdGhpcy5sb2dpbkxvYWRpbmcgPSBmYWxzZQogICAgICAgICAgICB9LDUwMCkKICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["TranslateLogin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TranslateLogin.vue","sourceRoot":"src/components/TranslateLogin","sourcesContent":["<template>\n    <div>\n        <div class=\"container\" :class=\"{TransformPanel: isTransform}\">\n            <!--注册-->\n            <div class=\"form-container register-container\">\n                <el-form ref=\"registerForm\" :rules=\"rules\" :model=\"registerForm\" label-width=\"55px\">\n                    <h1>管理员注册</h1>\n                    <br>\n                    <el-form-item prop=\"username\" label=\"账号\">\n                        <el-input v-model=\"registerForm.username\"\n                                  type=\"text\"\n                                  placeholder=\"账号\">\n                        </el-input>\n                    </el-form-item>\n                    <br>\n                    <el-form-item prop=\"password\" label=\"密码\">\n                        <el-input v-model=\"registerForm.password\"\n                                  type=\"password\"\n                                  placeholder=\"密码\"\n                                  show-password\n                                  clearable>\n                        </el-input>\n                    </el-form-item>\n                    <br>\n                    <el-button :loading=\"loginLoading\" @click=\"handleRegister()\">注册</el-button>\n                </el-form>\n            </div>\n            <!--登录-->\n            <div class=\"form-container login-container\">\n                <el-form @submit.native.prevent ref=\"loginForm\" :rules=\"rules\" :model=\"loginForm\" label-width=\"55px\">\n                    <h1>管理员登录</h1>\n                    <br>\n                    <el-form-item prop=\"username\" label=\"账号\">\n                        <el-input v-model=\"loginForm.username\"\n                                  type=\"text\"\n                                  placeholder=\"账号\">\n                        </el-input>\n                    </el-form-item>\n                    <br>\n                    <el-form-item prop=\"password\" label=\"密码\">\n                        <el-input v-model=\"loginForm.password\"\n                                  type=\"password\"\n                                  placeholder=\"密码\"\n                                  show-password\n                                  clearable>\n                        </el-input>\n                    </el-form-item>\n                    <br>\n                    <el-button :loading=\"loginLoading\" @click=\"handleLogin()\" native-type=\"submit\">登录</el-button>\n                </el-form>\n            </div>\n            <!--切换页面内容-->\n            <div class=\"overlay-container\">\n                <div class=\"overlay\">\n                    <div class=\"overlay-panel overlay-left\">\n                        <h1>已有帐号？</h1>\n                        <p>赶紧去登录吧!</p>\n                        <el-button @click=\"adminLogin\" class=\"ghost\">登陆</el-button>\n                    </div>\n                    <div class=\"overlay-panel overlay-right\">\n                        <h1>没有帐号？</h1>\n                        <p>点击注册去注册一个属于你的账号吧。</p>\n                        <el-button @click=\"adminRegister\" class=\"ghost\">注册</el-button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    import {generaMenu} from \"../../assets/js/menu\";\n    import {adminLogin} from \"../../api/user\";\n\n    export default {\n        name: \"TranslateLogin\",\n        data(){\n            return {\n                isTransform: false,\n                loginLoading: false,\n                registerForm:{\n                    username: \"\",\n                    password: \"\",\n                },\n                loginForm:{\n                    username: \"\",\n                    password: \"\",\n                },\n                rules: {\n                    username: [\n                        { required: true, message: \"账号不能为空\", trigger: ['blur','change'] },\n                        { type: 'email', message: \"请输入正确的邮箱格式\", trigger: ['blur','change'] }\n                    ],\n                    password: [\n                        { required: true, message: \"密码不能为空\", trigger: ['blur','change'] },\n                        { min: 6, message: \"密码不能少于6位\", trigger: ['blur','change'] }\n                    ]\n                }\n            }\n        },\n        methods: {\n            adminRegister() {\n                this.isTransform = true;\n            },\n            adminLogin() {\n                this.isTransform = false;\n            },\n            executeLogin() {\n                const that = this\n                this.loginLoading = true\n                //发送登录请求\n                let param = new URLSearchParams();\n                param.append(\"username\", that.loginForm.username);\n                param.append(\"password\", that.loginForm.password);\n                adminLogin(param).then(({ data }) => {\n                    if (data.flag) {\n                        // 登录后保存用户信息\n                        this.$store.commit(\"login\", data.data);\n                        // 加载用户菜单\n                        generaMenu();\n                        this.$message.success(\"登录成功\");\n                        this.$router.push({ path: \"/\" });\n                    } else {\n                        this.$message.error(data.message);\n                    }\n                    this.loginLoading = false\n                });\n                setTimeout(() => {\n                    this.loginLoading = false\n                },1000)\n            },\n            handleLogin(){\n                const that = this\n                this.$refs['loginForm'].validate(valid =>{\n                    if (valid) {\n                        // eslint-disable-next-line no-undef\n                        const captcha = new TencentCaptcha(\n                            that.config.TENCENT_CAPTCHA,\n                            function (res) {\n                                if (res.ret === 0) {\n                                    that.executeLogin()\n                                }\n                            }\n                        );\n                        // 验证失败，显示验证码\n                        captcha.show();\n                    }\n                })\n            },\n            handleRegister() {\n                this.loginLoading = true\n                setTimeout(()=>{\n                    this.$notify.error({\n                        message: '注册失败!请联系管理员!',\n                        duration: 1000\n                    })\n                    this.loginLoading = false\n                },500)\n            }\n        }\n    }\n</script>\n\n<style scoped>\n    *{\n        margin: 0;\n        padding: 0;\n        box-sizing: border-box;\n    }\n    h1{\n        margin: 0.2rem;\n        font-size: 1.2rem;\n    }\n    p{\n        font-size: 1rem;\n        line-height: 1.5rem;\n        font-weight: 100;\n        margin: 1.2rem 0;\n        letter-spacing: 0.1rem;\n    }\n    span{\n        font-size: 0.8rem;\n        margin: 1.2rem 0;\n    }\n    .container{\n        position: relative;\n        background: #fff;\n        border-radius: 10px;\n        box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);\n        padding: 0.6rem;\n        width: 50rem;\n        height: 35rem;\n        overflow: hidden;\n        max-width: 100vw;\n        min-height: 70vh;\n        float: left;\n        left: 23%;\n        right: 23%;\n        top: 100px;\n        bottom: 100px;\n        margin: 0.3rem;\n        opacity: 0.7;\n        z-index: 9;\n    }\n    .form-container form{\n        background: #fff;\n        display: flex;\n        flex-direction: column;\n        padding: 0 1.8rem;\n        height: 100%;\n        justify-content: center;\n        align-items: center;\n    }\n    .form-container button:active {\n        transform: scale(0.95, 0.95);\n    }\n    .form-container button {\n        padding: 0.4rem 1rem;\n        background: #417dff;\n        color: white;\n        border: 1px solid #fff;\n        outline: none;\n        cursor: pointer;\n        width: 5rem;\n        border-radius: 8px;\n        transition: all 100ms ease-in;\n        margin: 0.6rem 0;\n        font-size: 0.9rem;\n        padding: 0.5rem 0;\n    }\n    button.ghost {\n        background: transparent;\n        border-color: #fff;\n        border: 1px solid #fff;\n        outline: none;\n        cursor: pointer;\n        width: 5rem;\n        border-radius: 8px;\n        transition: all 100ms ease-in;\n        margin: 0.6rem 0;\n        padding: 0.5rem 0;\n        color: white;\n        font-size: 0.8rem;\n    }\n    button#send_code1 {\n        width: 100%;\n    }\n    button.ghost:active {\n        transform: scale(0.95, 0.95);\n    }\n    .form-container {\n        position: absolute;\n        top: 0;\n        height: 100%;\n        transition: all 0.5s ease-in;\n    }\n    .login-container {\n        left: 0;\n        width: 50%;\n        z-index: 2;\n    }\n    .register-container {\n        left: 0;\n        width: 50%;\n        opacity: 0;\n        z-index: 1;\n    }\n    .overlay {\n        background: #417dff;\n        width: 200%;\n        height: 100%;\n        position: relative;\n        left: -100%;\n        transition: all 0.6s ease-in-out;\n        color: white;\n    }\n    .overlay-container {\n        position: absolute;\n        top: 0;\n        right: 0;\n        width: 50%;\n        height: 100%;\n        overflow: hidden;\n        transition: all 0.6s ease-in-out;\n        z-index: 99;\n    }\n    .overlay-panel {\n        position: absolute;\n        top: 0;\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n        width: 50%;\n        height: 100%;\n        padding: 0 2.2rem;\n    }\n    .overlay-right {\n        right: 0;\n    }\n    .container.TransformPanel .overlay-container {\n        transform: translateX(-100%);\n    }\n    .container.TransformPanel .login-container {\n        transform: translateX(100%);\n    }\n    .container.TransformPanel .register-container {\n        transform: translateX(100%);\n        opacity: 1;\n        z-index: 5;\n        transition: all 0.6s ease-in-out;\n    }\n    .container.TransformPanel .overlay {\n        transform: translateX(50%);\n    }\n    .container.TransformPanel .overlay-left {\n        transform: translateX(0);\n        transition: all 0.6s ease-in-out;\n    }\n    .container.TransformPanel .overlay-right {\n        transform: translateX(20%);\n        transition: all 0.6s ease-in-out;\n    }\n    .el-form-item{\n        width: 16rem;/*固定住表单的宽，避免长短不一*/\n    }\n    /*深度选择器，只修改局部样式*/\n    .el-input /deep/ .el-input__inner{\n        border-radius: 15px;\n        box-shadow: 0 0 3px rgba(0, 0, 0, 0.2);\n    }\n</style>\n"]}]}