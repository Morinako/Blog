{"remainingRequest":"D:\\solarBlog-master\\solarBlog-master\\solarBlog-web\\admin\\node_modules\\babel-loader\\lib\\index.js!D:\\solarBlog-master\\solarBlog-master\\solarBlog-web\\admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\solarBlog-master\\solarBlog-master\\solarBlog-web\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\solarBlog-master\\solarBlog-master\\solarBlog-web\\admin\\src\\views\\chat\\Chat.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\solarBlog-master\\solarBlog-master\\solarBlog-web\\admin\\src\\views\\chat\\Chat.vue","mtime":1692914156000},{"path":"D:\\solarBlog-master\\solarBlog-master\\solarBlog-web\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\solarBlog-master\\solarBlog-master\\solarBlog-web\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\solarBlog-master\\solarBlog-master\\solarBlog-web\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\solarBlog-master\\solarBlog-master\\solarBlog-web\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCIpOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7Cgp2YXIgX3N5c3RlbSA9IHJlcXVpcmUoIi4uLy4uL2FwaS9zeXN0ZW0iKTsKCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCnZhciBfZGVmYXVsdCA9IHsKICBuYW1lOiAiQ2hhdCIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxvYWRpbmc6IHRydWUsCiAgICAgIGRlbGV0ZUZsYWc6IGZhbHNlLAogICAgICBjaGF0UmVjb3JkSWRMaXN0OiBbXSwKICAgICAgY2hhdFJlY29yZExpc3Q6IFtdLAogICAgICBrZXl3b3JkczogbnVsbCwKICAgICAgaXNSZXZpZXc6IG51bGwsCiAgICAgIGN1cnJlbnQ6IDEsCiAgICAgIHNpemU6IDEwLAogICAgICBjb3VudDogMAogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldExpc3QoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldExpc3Q6IGZ1bmN0aW9uIGdldExpc3QoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgcGFyYW1zID0gewogICAgICAgIGN1cnJlbnQ6IHRoaXMuY3VycmVudCwKICAgICAgICBzaXplOiB0aGlzLnNpemUKICAgICAgfTsKICAgICAgKDAsIF9zeXN0ZW0uZ2V0Q2hhdFJlY29yZExpc3QpKHBhcmFtcykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMuY2hhdFJlY29yZExpc3QgPSByZXMuZGF0YS5kYXRhLnJlY29yZExpc3Q7CiAgICAgICAgX3RoaXMuY291bnQgPSByZXMuZGF0YS5kYXRhLmNvdW50OwogICAgICAgIF90aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgc2VsZWN0aW9uQ2hhbmdlOiBmdW5jdGlvbiBzZWxlY3Rpb25DaGFuZ2UoY2hhdFJlY29yZExpc3QpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLmNoYXRSZWNvcmRJZExpc3QgPSBbXTsKICAgICAgY2hhdFJlY29yZExpc3QuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIF90aGlzMi5jaGF0UmVjb3JkSWRMaXN0LnB1c2goaXRlbS5pZCk7CiAgICAgIH0pOwogICAgfSwKICAgIHNlYXJjaE1lc3NhZ2VzOiBmdW5jdGlvbiBzZWFyY2hNZXNzYWdlcygpIHsKICAgICAgdGhpcy5jdXJyZW50ID0gMTsKICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICB9LAogICAgc2l6ZUNoYW5nZTogZnVuY3Rpb24gc2l6ZUNoYW5nZShzaXplKSB7CiAgICAgIHRoaXMuc2l6ZSA9IHNpemU7CiAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgfSwKICAgIGN1cnJlbnRDaGFuZ2U6IGZ1bmN0aW9uIGN1cnJlbnRDaGFuZ2UoY3VycmVudCkgewogICAgICB0aGlzLmN1cnJlbnQgPSBjdXJyZW50OwogICAgICB0aGlzLmdldExpc3QoKTsKICAgIH0sCiAgICBkZWxldGVDaGF0UmVjb3JkOiBmdW5jdGlvbiBkZWxldGVDaGF0UmVjb3JkKGlkKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdmFyIHBhcmFtID0ge307CgogICAgICBpZiAoaWQgIT0gbnVsbCkgewogICAgICAgIHBhcmFtID0gewogICAgICAgICAgZGF0YTogW2lkXQogICAgICAgIH07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcGFyYW0gPSB7CiAgICAgICAgICBkYXRhOiB0aGlzLmNoYXRSZWNvcmRJZExpc3QKICAgICAgICB9OwogICAgICB9CgogICAgICAoMCwgX3N5c3RlbS5kZWxldGVDaGF0UmVjb3JkKShwYXJhbS5kYXRhKS50aGVuKGZ1bmN0aW9uIChfcmVmKSB7CiAgICAgICAgdmFyIGRhdGEgPSBfcmVmLmRhdGE7CgogICAgICAgIGlmIChkYXRhLmZsYWcpIHsKICAgICAgICAgIF90aGlzMy4kbm90aWZ5LnN1Y2Nlc3MoewogICAgICAgICAgICB0aXRsZTogIuaIkOWKnyIsCiAgICAgICAgICAgIG1lc3NhZ2U6IGRhdGEubWVzc2FnZQogICAgICAgICAgfSk7CgogICAgICAgICAgX3RoaXMzLmdldExpc3QoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMzLiRub3RpZnkuZXJyb3IoewogICAgICAgICAgICB0aXRsZTogIuWksei0pSIsCiAgICAgICAgICAgIG1lc3NhZ2U6IGRhdGEubWVzc2FnZQogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBfdGhpczMuZGVsZXRlRmxhZyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0KICB9Cn07CmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0Ow=="},{"version":3,"sources":["Chat.vue"],"names":[],"mappings":";;;;;;;;;;;AA2GA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAEA;AACA,EAAA,IAAA,EAAA,MADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,IADA;AAEA,MAAA,UAAA,EAAA,KAFA;AAGA,MAAA,gBAAA,EAAA,EAHA;AAIA,MAAA,cAAA,EAAA,EAJA;AAKA,MAAA,QAAA,EAAA,IALA;AAMA,MAAA,QAAA,EAAA,IANA;AAOA,MAAA,OAAA,EAAA,CAPA;AAQA,MAAA,IAAA,EAAA,EARA;AASA,MAAA,KAAA,EAAA;AATA,KAAA;AAWA,GAdA;AAeA,EAAA,OAfA,qBAeA;AACA,SAAA,OAAA;AACA,GAjBA;AAkBA,EAAA,OAAA,EAAA;AACA,IAAA,OADA,qBACA;AAAA;;AACA,UAAA,MAAA,GAAA;AACA,QAAA,OAAA,EAAA,KAAA,OADA;AAEA,QAAA,IAAA,EAAA,KAAA;AAFA,OAAA;AAIA,qCAAA,MAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,cAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,UAAA;AACA,QAAA,KAAA,CAAA,KAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,KAAA;AACA,QAAA,KAAA,CAAA,OAAA,GAAA,KAAA;AACA,OAJA;AAKA,KAXA;AAYA,IAAA,eAZA,2BAYA,cAZA,EAYA;AAAA;;AACA,WAAA,gBAAA,GAAA,EAAA;AACA,MAAA,cAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA;AACA,QAAA,MAAA,CAAA,gBAAA,CAAA,IAAA,CAAA,IAAA,CAAA,EAAA;AACA,OAFA;AAGA,KAjBA;AAkBA,IAAA,cAlBA,4BAkBA;AACA,WAAA,OAAA,GAAA,CAAA;AACA,WAAA,OAAA;AACA,KArBA;AAsBA,IAAA,UAtBA,sBAsBA,IAtBA,EAsBA;AACA,WAAA,IAAA,GAAA,IAAA;AACA,WAAA,OAAA;AACA,KAzBA;AA0BA,IAAA,aA1BA,yBA0BA,OA1BA,EA0BA;AACA,WAAA,OAAA,GAAA,OAAA;AACA,WAAA,OAAA;AACA,KA7BA;AA8BA,IAAA,gBA9BA,4BA8BA,EA9BA,EA8BA;AAAA;;AACA,UAAA,KAAA,GAAA,EAAA;;AACA,UAAA,EAAA,IAAA,IAAA,EAAA;AACA,QAAA,KAAA,GAAA;AAAA,UAAA,IAAA,EAAA,CAAA,EAAA;AAAA,SAAA;AACA,OAFA,MAEA;AACA,QAAA,KAAA,GAAA;AAAA,UAAA,IAAA,EAAA,KAAA;AAAA,SAAA;AACA;;AACA,oCAAA,KAAA,CAAA,IAAA,EAAA,IAAA,CAAA,gBAAA;AAAA,YAAA,IAAA,QAAA,IAAA;;AACA,YAAA,IAAA,CAAA,IAAA,EAAA;AACA,UAAA,MAAA,CAAA,OAAA,CAAA,OAAA,CAAA;AACA,YAAA,KAAA,EAAA,IADA;AAEA,YAAA,OAAA,EAAA,IAAA,CAAA;AAFA,WAAA;;AAIA,UAAA,MAAA,CAAA,OAAA;AACA,SANA,MAMA;AACA,UAAA,MAAA,CAAA,OAAA,CAAA,KAAA,CAAA;AACA,YAAA,KAAA,EAAA,IADA;AAEA,YAAA,OAAA,EAAA,IAAA,CAAA;AAFA,WAAA;AAIA;;AACA,QAAA,MAAA,CAAA,UAAA,GAAA,KAAA;AACA,OAdA;AAeA;AApDA;AAlBA,C","sourcesContent":["<template>\n    <el-card class=\"main-card\">\n        <div class=\"title\">{{ this.$route.name }}</div>\n        <!-- 表格操作 -->\n        <div class=\"operation-container\">\n            <el-button\n                    type=\"danger\"\n                    size=\"small\"\n                    icon=\"el-icon-delete\"\n                    :disabled=\"chatRecordIdList.length === 0\"\n                    @click=\"deleteFlag = true\"\n            >\n                批量删除\n            </el-button>\n        </div>\n        <!-- 表格展示 -->\n        <el-table\n                border\n                v-loading=\"loading\"\n                :data=\"chatRecordList\"\n                @selection-change=\"selectionChange\"\n        >\n            <!-- 表格列 -->\n            <el-table-column type=\"selection\" width=\"55\" />\n            <el-table-column prop=\"avatar\" label=\"头像\" align=\"center\" width=\"150\">\n                <template slot-scope=\"scope\">\n                    <img :src=\"scope.row.avatar\" width=\"40\" height=\"40\" />\n                </template>\n            </el-table-column>\n            <el-table-column\n                    prop=\"nickname\"\n                    label=\"聊天昵称\"\n                    align=\"center\"\n                    width=\"150\"\n            />\n            <el-table-column prop=\"content\" label=\"聊天内容\" align=\"center\">\n                <template slot-scope=\"scope\">\n                    <span v-html=\"scope.row.content\" class=\"comment-content\" />\n                </template>\n            </el-table-column>\n            <el-table-column\n                    prop=\"ipAddress\"\n                    label=\"ip地址\"\n                    align=\"center\"\n                    width=\"190\"\n            />\n            <el-table-column\n                    prop=\"ipSource\"\n                    label=\"ip来源\"\n                    align=\"center\"\n                    width=\"90\"\n            />\n            <el-table-column\n                    prop=\"createTime\"\n                    label=\"发布时间\"\n                    width=\"230\"\n                    align=\"center\"\n            >\n                <template slot-scope=\"scope\">\n                    <i class=\"el-icon-time\" style=\"margin-right:5px\" />\n                    {{ scope.row.createTime | dateTime }}\n                </template>\n            </el-table-column>\n            <!-- 列操作 -->\n            <el-table-column label=\"操作\" width=\"160\" align=\"center\">\n                <template slot-scope=\"scope\">\n                    <el-popconfirm\n                            style=\"margin-left:10px\"\n                            title=\"确定删除吗？\"\n                            @confirm=\"deleteChatRecord(scope.row.id)\"\n                    >\n                        <el-button size=\"mini\" type=\"danger\" slot=\"reference\">\n                            删除\n                        </el-button>\n                    </el-popconfirm>\n                </template>\n            </el-table-column>\n        </el-table>\n        <!-- 分页 -->\n        <el-pagination\n                class=\"pagination-container\"\n                background\n                @size-change=\"sizeChange\"\n                @current-change=\"currentChange\"\n                :current-page=\"current\"\n                :page-size=\"size\"\n                :total=\"count\"\n                :page-sizes=\"[5,10,30,50,100]\"\n                layout=\"total, sizes, prev, pager, next, jumper\"\n        />\n        <!-- 批量删除对话框 -->\n        <el-dialog :visible.sync=\"deleteFlag\" width=\"30%\" :close-on-click-modal=\"false\">\n            <div class=\"dialog-title-container\" slot=\"title\">\n                <i class=\"el-icon-warning\" style=\"color:#ff9900\" />提示\n            </div>\n            <div style=\"font-size:1rem\">是否删除选中项？</div>\n            <div slot=\"footer\">\n                <el-button @click=\"deleteFlag = false\">取 消</el-button>\n                <el-button type=\"primary\" @click=\"deleteChatRecord(null)\">\n                    确 定\n                </el-button>\n            </div>\n        </el-dialog>\n    </el-card>\n</template>\n\n<script>\n    import {deleteChatRecord, getChatRecordList} from \"../../api/system\";\n\n    export default {\n        name: \"Chat\",\n        data() {\n            return {\n                loading: true,\n                deleteFlag: false,\n                chatRecordIdList: [],\n                chatRecordList: [],\n                keywords: null,\n                isReview: null,\n                current: 1,\n                size: 10,\n                count: 0\n            }\n        },\n        created() {\n            this.getList()\n        },\n        methods: {\n            getList() {\n                const params = {\n                    current: this.current,\n                    size: this.size,\n                };\n                getChatRecordList(params).then(res => {\n                    this.chatRecordList = res.data.data.recordList;\n                    this.count = res.data.data.count;\n                    this.loading = false;\n                })\n            },\n            selectionChange(chatRecordList) {\n                this.chatRecordIdList = [];\n                chatRecordList.forEach(item => {\n                    this.chatRecordIdList.push(item.id);\n                });\n            },\n            searchMessages() {\n                this.current = 1;\n                this.getList();\n            },\n            sizeChange(size) {\n                this.size = size;\n                this.getList();\n            },\n            currentChange(current) {\n                this.current = current;\n                this.getList();\n            },\n            deleteChatRecord(id) {\n                let param = {};\n                if (id != null) {\n                    param = { data: [id] };\n                } else {\n                    param = { data: this.chatRecordIdList };\n                }\n                deleteChatRecord(param.data).then(({ data }) => {\n                    if (data.flag) {\n                        this.$notify.success({\n                            title: \"成功\",\n                            message: data.message\n                        });\n                        this.getList();\n                    } else {\n                        this.$notify.error({\n                            title: \"失败\",\n                            message: data.message\n                        });\n                    }\n                    this.deleteFlag = false;\n                });\n            },\n        }\n    }\n</script>\n\n<style scoped>\n    .comment-content {\n        display: inline-block;\n    }\n</style>\n"],"sourceRoot":"src/views/chat"}]}