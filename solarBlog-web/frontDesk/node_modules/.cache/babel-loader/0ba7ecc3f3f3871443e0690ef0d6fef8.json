{"remainingRequest":"D:\\solarBlog-master\\solarBlog-master\\solarBlog-web\\frontDesk\\node_modules\\babel-loader\\lib\\index.js!D:\\solarBlog-master\\solarBlog-master\\solarBlog-web\\frontDesk\\node_modules\\vuetify-loader\\lib\\loader.js??ref--19-0!D:\\solarBlog-master\\solarBlog-master\\solarBlog-web\\frontDesk\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\solarBlog-master\\solarBlog-master\\solarBlog-web\\frontDesk\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\solarBlog-master\\solarBlog-master\\solarBlog-web\\frontDesk\\src\\views\\user\\User.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\solarBlog-master\\solarBlog-master\\solarBlog-web\\frontDesk\\src\\views\\user\\User.vue","mtime":1692914156000},{"path":"D:\\solarBlog-master\\solarBlog-master\\solarBlog-web\\frontDesk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\solarBlog-master\\solarBlog-master\\solarBlog-web\\frontDesk\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\solarBlog-master\\solarBlog-master\\solarBlog-web\\frontDesk\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"D:\\solarBlog-master\\solarBlog-master\\solarBlog-web\\frontDesk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\solarBlog-master\\solarBlog-master\\solarBlog-web\\frontDesk\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJEOlxcc29sYXJCbG9nLW1hc3Rlclxcc29sYXJCbG9nLW1hc3Rlclxcc29sYXJCbG9nLXdlYlxcZnJvbnREZXNrXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdCIpOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7Cgp2YXIgX3Z1ZUF2YXRhckNyb3BwZXIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoInZ1ZS1hdmF0YXItY3JvcHBlciIpKTsKCnZhciBfdXNlciA9IHJlcXVpcmUoIi4uLy4uL2FwaS91c2VyIik7CgovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwp2YXIgX2RlZmF1bHQgPSB7CiAgY29tcG9uZW50czogewogICAgQXZhdGFyQ3JvcHBlcjogX3Z1ZUF2YXRhckNyb3BwZXIuZGVmYXVsdAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVzZXJJbmZvOiB7CiAgICAgICAgbmlja25hbWU6IHRoaXMuJHN0b3JlLnN0YXRlLm5pY2tuYW1lLAogICAgICAgIGludHJvOiB0aGlzLiRzdG9yZS5zdGF0ZS5pbnRybywKICAgICAgICB3ZWJTaXRlOiB0aGlzLiRzdG9yZS5zdGF0ZS53ZWJTaXRlLAogICAgICAgIGxvZ2luVHlwZTogdGhpcy4kc3RvcmUuc3RhdGUubG9naW5UeXBlCiAgICAgIH0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICB1cGRhdGVVc2VySW5mbzogZnVuY3Rpb24gdXBkYXRlVXNlckluZm8oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAoMCwgX3VzZXIudXBkYXRlVXNlckluZm8pKHRoaXMudXNlckluZm8pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGNvbnNvbGUubG9nKCJyZXMiLCByZXMpOwoKICAgICAgICBpZiAocmVzLmZsYWcpIHsKICAgICAgICAgIF90aGlzLiRzdG9yZS5jb21taXQoInVwZGF0ZVVzZXJJbmZvIiwgX3RoaXMudXNlckluZm8pOwoKICAgICAgICAgIF90aGlzLiR0b2FzdCh7CiAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgICAgbWVzc2FnZTogIuS/ruaUueaIkOWKnyIKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpcy4kdG9hc3QoewogICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICBtZXNzYWdlOiByZXMubWVzc2FnZQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICB1cGxvYWRBdmF0YXI6IGZ1bmN0aW9uIHVwbG9hZEF2YXRhcihkYXRhKSB7CiAgICAgIGlmIChkYXRhLmZsYWcpIHsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoInVwZGF0ZUF2YXRhciIsIGRhdGEuZGF0YSk7CiAgICAgICAgdGhpcy4kdG9hc3QoewogICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgbWVzc2FnZTogIuS4iuS8oOaIkOWKnyIKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiR0b2FzdCh7CiAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgbWVzc2FnZTogZGF0YS5tZXNzYWdlCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBvcGVuRW1haWxNb2RlbDogZnVuY3Rpb24gb3BlbkVtYWlsTW9kZWwoKSB7CiAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmVtYWlsRmxhZyA9IHRydWU7CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgZW1haWw6IGZ1bmN0aW9uIGVtYWlsKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuZW1haWw7CiAgICB9LAogICAgbG9naW5UeXBlOiBmdW5jdGlvbiBsb2dpblR5cGUoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5sb2dpblR5cGU7CiAgICB9CiAgfQp9OwpleHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDs="},{"version":3,"sources":["User.vue"],"names":[],"mappings":";;;;;;;;;AAoDA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eACA;AACA,EAAA,UAAA,EAAA;AAAA,IAAA,aAAA,EAAA;AAAA,GADA;AAEA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,QAAA,EAAA;AACA,QAAA,QAAA,EAAA,KAAA,MAAA,CAAA,KAAA,CAAA,QADA;AAEA,QAAA,KAAA,EAAA,KAAA,MAAA,CAAA,KAAA,CAAA,KAFA;AAGA,QAAA,OAAA,EAAA,KAAA,MAAA,CAAA,KAAA,CAAA,OAHA;AAIA,QAAA,SAAA,EAAA,KAAA,MAAA,CAAA,KAAA,CAAA;AAJA;AADA,KAAA;AAQA,GAXA;AAYA,EAAA,OAAA,EAAA;AACA,IAAA,cADA,4BACA;AAAA;;AACA,gCAAA,KAAA,QAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA,EAAA,GAAA;;AACA,YAAA,GAAA,CAAA,IAAA,EAAA;AACA,UAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,gBAAA,EAAA,KAAA,CAAA,QAAA;;AACA,UAAA,KAAA,CAAA,MAAA,CAAA;AAAA,YAAA,IAAA,EAAA,SAAA;AAAA,YAAA,OAAA,EAAA;AAAA,WAAA;AACA,SAHA,MAGA;AACA,UAAA,KAAA,CAAA,MAAA,CAAA;AAAA,YAAA,IAAA,EAAA,OAAA;AAAA,YAAA,OAAA,EAAA,GAAA,CAAA;AAAA,WAAA;AACA;AACA,OARA;AASA,KAXA;AAYA,IAAA,YAZA,wBAYA,IAZA,EAYA;AACA,UAAA,IAAA,CAAA,IAAA,EAAA;AACA,aAAA,MAAA,CAAA,MAAA,CAAA,cAAA,EAAA,IAAA,CAAA,IAAA;AACA,aAAA,MAAA,CAAA;AAAA,UAAA,IAAA,EAAA,SAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SAAA;AACA,OAHA,MAGA;AACA,aAAA,MAAA,CAAA;AAAA,UAAA,IAAA,EAAA,OAAA;AAAA,UAAA,OAAA,EAAA,IAAA,CAAA;AAAA,SAAA;AACA;AACA,KAnBA;AAoBA,IAAA,cApBA,4BAoBA;AACA,WAAA,MAAA,CAAA,KAAA,CAAA,SAAA,GAAA,IAAA;AACA;AAtBA,GAZA;AAoCA,EAAA,QAAA,EAAA;AACA,IAAA,KADA,mBACA;AACA,aAAA,KAAA,MAAA,CAAA,KAAA,CAAA,KAAA;AACA,KAHA;AAIA,IAAA,SAJA,uBAIA;AACA,aAAA,KAAA,MAAA,CAAA,KAAA,CAAA,SAAA;AACA;AANA;AApCA,C","sourcesContent":["<template>\n  <div>\n    <v-card class=\"blog-container\">\n      <div>\n        <span class=\"info-title\">基本信息</span>\n      </div>\n      <v-row class=\"info-wrapper\">\n        <v-col md=\"3\" cols=\"12\">\n          <button id=\"pick-avatar\">\n            <v-avatar size=\"140\">\n              <img :src=\"this.$store.state.avatar\" />\n            </v-avatar>\n          </button>\n          <avatar-cropper\n            @uploaded=\"uploadAvatar\"\n            trigger=\"#pick-avatar\"\n            upload-url=\"/api/users/avatar\"\n          />\n        </v-col>\n        <v-col md=\"7\" cols=\"12\">\n          <div class=\"mt-7 binding\">\n            <label>昵称：</label>\n            <input type=\"text\" v-model=\"userInfo.nickname\" placeholder=\"请输入您的昵称\" maxlength=\"10\">\n          </div>\n          <div class=\"mt-7 binding\">\n            <label>个人网站：</label>\n            <input type=\"text\" v-model=\"userInfo.webSite\" placeholder=\"http://你的网址\">\n          </div>\n          <div class=\"mt-7 binding\">\n            <label>简介：</label>\n            <input type=\"text\" v-model=\"userInfo.intro\" placeholder=\"介绍下自己吧！\" maxlength=\"19\">\n          </div>\n          <div v-if=\"loginType !== 0\" class=\"mt-7 binding\">\n              <label>邮箱号：</label>\n              <input type=\"text\" v-model=\"email\" placeholder=\"请绑定邮箱！\">\n            <div>\n              <v-btn v-if=\"email\" text small @click=\"openEmailModel\">\n                修改绑定\n              </v-btn>\n              <v-btn v-else text small @click=\"openEmailModel\">\n                绑定邮箱\n              </v-btn>\n            </div>\n          </div>\n          <v-btn @click=\"updateUserInfo\" outlined class=\"mt-5\">修改</v-btn>\n        </v-col>\n      </v-row>\n    </v-card>\n  </div>\n</template>\n\n<script>\nimport AvatarCropper from \"vue-avatar-cropper\";\nimport {updateUserInfo} from \"../../api/user\";\nexport default {\n  components: { AvatarCropper },\n  data: function() {\n    return {\n      userInfo: {\n        nickname: this.$store.state.nickname,\n        intro: this.$store.state.intro,\n        webSite: this.$store.state.webSite,\n        loginType: this.$store.state.loginType\n      }\n    };\n  },\n  methods: {\n    updateUserInfo() {\n      updateUserInfo(this.userInfo).then(res => {\n        console.log(\"res\",res)\n        if (res.flag) {\n          this.$store.commit(\"updateUserInfo\", this.userInfo);\n          this.$toast({ type: \"success\", message: \"修改成功\" });\n        } else {\n          this.$toast({ type: \"error\", message: res.message });\n        }\n      });\n    },\n    uploadAvatar(data) {\n      if (data.flag) {\n        this.$store.commit(\"updateAvatar\", data.data);\n        this.$toast({ type: \"success\", message: \"上传成功\" });\n      } else {\n        this.$toast({ type: \"error\", message: data.message });\n      }\n    },\n    openEmailModel() {\n      this.$store.state.emailFlag = true;\n    }\n  },\n  computed: {\n    email() {\n      return this.$store.state.email;\n    },\n    loginType() {\n      return this.$store.state.loginType;\n    },\n  }\n};\n</script>\n\n<style scoped lang=\"scss\">\n.info-title {\n  font-size: 1.25rem;\n  font-weight: bold;\n}\n.info-wrapper {\n  margin-top: 1rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n#pick-avatar {\n  outline: none;\n  position: relative;\n}\n#pick-avatar:hover:after{\n  content: '+';\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  color: #eee;\n  background: rgba(0, 0, 0, 0.5);\n  font-size: 24px;\n  -webkit-font-smoothing: antialiased; /*chrome、safari*/\n  -moz-osx-font-smoothing: grayscale; /*firefox*/\n  cursor: pointer;\n  line-height: 140px;\n  border-radius: 50%;\n}\n.binding {\n  display: flex;\n  align-items: center;\n\n  input{\n    border: 0.1rem solid #bfcbd9;\n    height: 2.3rem;\n    width: 13rem;\n    border-radius: 0.9rem;\n    color: #1f2d3d;\n    text-align: center;\n  }\n\n  input:focus{\n    border: 0.1rem solid #03a9f4;\n    border-radius: 0.9rem;\n    outline: none;\n  }\n\n  label{\n    width: 5rem;\n    text-align: right;\n  }\n}\n  .mt-5{\n    float: right;\n  }\n</style>\n"],"sourceRoot":"src/views/user"}]}