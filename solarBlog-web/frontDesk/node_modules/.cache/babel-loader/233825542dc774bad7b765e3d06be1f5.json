{"remainingRequest":"D:\\solarBlog-master\\solarBlog-master\\solarBlog-web\\frontDesk\\node_modules\\babel-loader\\lib\\index.js!D:\\solarBlog-master\\solarBlog-master\\solarBlog-web\\frontDesk\\node_modules\\vuetify\\lib\\components\\VCalendar\\modes\\common.js","dependencies":[{"path":"D:\\solarBlog-master\\solarBlog-master\\solarBlog-web\\frontDesk\\node_modules\\vuetify\\lib\\components\\VCalendar\\modes\\common.js","mtime":499162500000},{"path":"D:\\solarBlog-master\\solarBlog-master\\solarBlog-web\\frontDesk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\solarBlog-master\\solarBlog-master\\solarBlog-web\\frontDesk\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJEOlxcc29sYXJCbG9nLW1hc3Rlclxcc29sYXJCbG9nLW1hc3Rlclxcc29sYXJCbG9nLXdlYlxcZnJvbnREZXNrXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCIpOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmdldFZpc3VhbHMgPSBfZ2V0VmlzdWFsczsKZXhwb3J0cy5oYXNPdmVybGFwID0gaGFzT3ZlcmxhcDsKZXhwb3J0cy5zZXRDb2x1bW5Db3VudCA9IHNldENvbHVtbkNvdW50OwpleHBvcnRzLmdldFJhbmdlID0gZ2V0UmFuZ2U7CmV4cG9ydHMuZ2V0RGF5UmFuZ2UgPSBnZXREYXlSYW5nZTsKZXhwb3J0cy5nZXROb3JtYWxpemVkUmFuZ2UgPSBnZXROb3JtYWxpemVkUmFuZ2U7CmV4cG9ydHMuZ2V0T3Blbkdyb3VwID0gZ2V0T3Blbkdyb3VwOwpleHBvcnRzLmdldE92ZXJsYXBHcm91cEhhbmRsZXIgPSBnZXRPdmVybGFwR3JvdXBIYW5kbGVyOwoKdmFyIF9zbGljZWRUb0FycmF5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiRDpcXHNvbGFyQmxvZy1tYXN0ZXJcXHNvbGFyQmxvZy1tYXN0ZXJcXHNvbGFyQmxvZy13ZWJcXGZyb250RGVza1xcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9zbGljZWRUb0FycmF5IikpOwoKdmFyIF90aW1lc3RhbXAgPSByZXF1aXJlKCIuLi91dGlsL3RpbWVzdGFtcCIpOwoKdmFyIE1JTExJU19JTl9EQVkgPSA4NjQwMDAwMDsKCmZ1bmN0aW9uIF9nZXRWaXN1YWxzKGV2ZW50cykgewogIHZhciBtaW5TdGFydCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMDsKICB2YXIgdmlzdWFscyA9IGV2ZW50cy5tYXAoZnVuY3Rpb24gKGV2ZW50KSB7CiAgICByZXR1cm4gewogICAgICBldmVudDogZXZlbnQsCiAgICAgIGNvbHVtbkNvdW50OiAwLAogICAgICBjb2x1bW46IDAsCiAgICAgIGxlZnQ6IDAsCiAgICAgIHdpZHRoOiAxMDAKICAgIH07CiAgfSk7CiAgdmlzdWFscy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICByZXR1cm4gTWF0aC5tYXgobWluU3RhcnQsIGEuZXZlbnQuc3RhcnRUaW1lc3RhbXBJZGVudGlmaWVyKSAtIE1hdGgubWF4KG1pblN0YXJ0LCBiLmV2ZW50LnN0YXJ0VGltZXN0YW1wSWRlbnRpZmllcikgfHwgYi5ldmVudC5lbmRUaW1lc3RhbXBJZGVudGlmaWVyIC0gYS5ldmVudC5lbmRUaW1lc3RhbXBJZGVudGlmaWVyOwogIH0pOwogIHJldHVybiB2aXN1YWxzOwp9CgpmdW5jdGlvbiBoYXNPdmVybGFwKHMwLCBlMCwgczEsIGUxKSB7CiAgdmFyIGV4Y2x1ZGUgPSBhcmd1bWVudHMubGVuZ3RoID4gNCAmJiBhcmd1bWVudHNbNF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s0XSA6IHRydWU7CiAgcmV0dXJuIGV4Y2x1ZGUgPyAhKHMwID49IGUxIHx8IGUwIDw9IHMxKSA6ICEoczAgPiBlMSB8fCBlMCA8IHMxKTsKfQoKZnVuY3Rpb24gc2V0Q29sdW1uQ291bnQoZ3JvdXBzKSB7CiAgZ3JvdXBzLmZvckVhY2goZnVuY3Rpb24gKGdyb3VwKSB7CiAgICBncm91cC52aXN1YWxzLmZvckVhY2goZnVuY3Rpb24gKGdyb3VwVmlzdWFsKSB7CiAgICAgIGdyb3VwVmlzdWFsLmNvbHVtbkNvdW50ID0gZ3JvdXBzLmxlbmd0aDsKICAgIH0pOwogIH0pOwp9CgpmdW5jdGlvbiBnZXRSYW5nZShldmVudCkgewogIHJldHVybiBbZXZlbnQuc3RhcnRUaW1lc3RhbXBJZGVudGlmaWVyLCBldmVudC5lbmRUaW1lc3RhbXBJZGVudGlmaWVyXTsKfQoKZnVuY3Rpb24gZ2V0RGF5UmFuZ2UoZXZlbnQpIHsKICByZXR1cm4gW2V2ZW50LnN0YXJ0SWRlbnRpZmllciwgZXZlbnQuZW5kSWRlbnRpZmllcl07Cn0KCmZ1bmN0aW9uIGdldE5vcm1hbGl6ZWRSYW5nZShldmVudCwgZGF5U3RhcnQpIHsKICByZXR1cm4gW01hdGgubWF4KGRheVN0YXJ0LCBldmVudC5zdGFydFRpbWVzdGFtcElkZW50aWZpZXIpLCBNYXRoLm1pbihkYXlTdGFydCArIE1JTExJU19JTl9EQVksIGV2ZW50LmVuZFRpbWVzdGFtcElkZW50aWZpZXIpXTsKfQoKZnVuY3Rpb24gZ2V0T3Blbkdyb3VwKGdyb3Vwcywgc3RhcnQsIGVuZCwgdGltZWQpIHsKICBmb3IgKHZhciBpID0gMDsgaSA8IGdyb3Vwcy5sZW5ndGg7IGkrKykgewogICAgdmFyIGdyb3VwID0gZ3JvdXBzW2ldOwogICAgdmFyIGludGVyc2VjdGVkID0gZmFsc2U7CgogICAgaWYgKGhhc092ZXJsYXAoc3RhcnQsIGVuZCwgZ3JvdXAuc3RhcnQsIGdyb3VwLmVuZCwgdGltZWQpKSB7CiAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgZ3JvdXAudmlzdWFscy5sZW5ndGg7IGsrKykgewogICAgICAgIHZhciBncm91cFZpc3VhbCA9IGdyb3VwLnZpc3VhbHNba107CgogICAgICAgIHZhciBfcmVmID0gdGltZWQgPyBnZXRSYW5nZShncm91cFZpc3VhbC5ldmVudCkgOiBnZXREYXlSYW5nZShncm91cFZpc3VhbC5ldmVudCksCiAgICAgICAgICAgIF9yZWYyID0gKDAsIF9zbGljZWRUb0FycmF5Mi5kZWZhdWx0KShfcmVmLCAyKSwKICAgICAgICAgICAgZ3JvdXBTdGFydCA9IF9yZWYyWzBdLAogICAgICAgICAgICBncm91cEVuZCA9IF9yZWYyWzFdOwoKICAgICAgICBpZiAoaGFzT3ZlcmxhcChzdGFydCwgZW5kLCBncm91cFN0YXJ0LCBncm91cEVuZCwgdGltZWQpKSB7CiAgICAgICAgICBpbnRlcnNlY3RlZCA9IHRydWU7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICBpZiAoIWludGVyc2VjdGVkKSB7CiAgICAgIHJldHVybiBpOwogICAgfQogIH0KCiAgcmV0dXJuIC0xOwp9CgpmdW5jdGlvbiBnZXRPdmVybGFwR3JvdXBIYW5kbGVyKGZpcnN0V2Vla2RheSkgewogIHZhciBoYW5kbGVyID0gewogICAgZ3JvdXBzOiBbXSwKICAgIG1pbjogLTEsCiAgICBtYXg6IC0xLAogICAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KCkgewogICAgICBoYW5kbGVyLmdyb3VwcyA9IFtdOwogICAgICBoYW5kbGVyLm1pbiA9IGhhbmRsZXIubWF4ID0gLTE7CiAgICB9LAogICAgZ2V0VmlzdWFsczogZnVuY3Rpb24gZ2V0VmlzdWFscyhkYXksIGRheUV2ZW50cywgdGltZWQpIHsKICAgICAgaWYgKGRheS53ZWVrZGF5ID09PSBmaXJzdFdlZWtkYXkgfHwgdGltZWQpIHsKICAgICAgICBoYW5kbGVyLnJlc2V0KCk7CiAgICAgIH0KCiAgICAgIHZhciBkYXlTdGFydCA9ICgwLCBfdGltZXN0YW1wLmdldFRpbWVzdGFtcElkZW50aWZpZXIpKGRheSk7CgogICAgICB2YXIgdmlzdWFscyA9IF9nZXRWaXN1YWxzKGRheUV2ZW50cywgZGF5U3RhcnQpOwoKICAgICAgdmlzdWFscy5mb3JFYWNoKGZ1bmN0aW9uICh2aXN1YWwpIHsKICAgICAgICB2YXIgX3JlZjMgPSB0aW1lZCA/IGdldFJhbmdlKHZpc3VhbC5ldmVudCkgOiBnZXREYXlSYW5nZSh2aXN1YWwuZXZlbnQpLAogICAgICAgICAgICBfcmVmNCA9ICgwLCBfc2xpY2VkVG9BcnJheTIuZGVmYXVsdCkoX3JlZjMsIDIpLAogICAgICAgICAgICBzdGFydCA9IF9yZWY0WzBdLAogICAgICAgICAgICBlbmQgPSBfcmVmNFsxXTsKCiAgICAgICAgaWYgKGhhbmRsZXIuZ3JvdXBzLmxlbmd0aCA+IDAgJiYgIWhhc092ZXJsYXAoc3RhcnQsIGVuZCwgaGFuZGxlci5taW4sIGhhbmRsZXIubWF4LCB0aW1lZCkpIHsKICAgICAgICAgIHNldENvbHVtbkNvdW50KGhhbmRsZXIuZ3JvdXBzKTsKICAgICAgICAgIGhhbmRsZXIucmVzZXQoKTsKICAgICAgICB9CgogICAgICAgIHZhciB0YXJnZXRHcm91cCA9IGdldE9wZW5Hcm91cChoYW5kbGVyLmdyb3Vwcywgc3RhcnQsIGVuZCwgdGltZWQpOwoKICAgICAgICBpZiAodGFyZ2V0R3JvdXAgPT09IC0xKSB7CiAgICAgICAgICB0YXJnZXRHcm91cCA9IGhhbmRsZXIuZ3JvdXBzLmxlbmd0aDsKICAgICAgICAgIGhhbmRsZXIuZ3JvdXBzLnB1c2goewogICAgICAgICAgICBzdGFydDogc3RhcnQsCiAgICAgICAgICAgIGVuZDogZW5kLAogICAgICAgICAgICB2aXN1YWxzOiBbXQogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICB2YXIgdGFyZ2V0ID0gaGFuZGxlci5ncm91cHNbdGFyZ2V0R3JvdXBdOwogICAgICAgIHRhcmdldC52aXN1YWxzLnB1c2godmlzdWFsKTsKICAgICAgICB0YXJnZXQuc3RhcnQgPSBNYXRoLm1pbih0YXJnZXQuc3RhcnQsIHN0YXJ0KTsKICAgICAgICB0YXJnZXQuZW5kID0gTWF0aC5tYXgodGFyZ2V0LmVuZCwgZW5kKTsKICAgICAgICB2aXN1YWwuY29sdW1uID0gdGFyZ2V0R3JvdXA7CgogICAgICAgIGlmIChoYW5kbGVyLm1pbiA9PT0gLTEpIHsKICAgICAgICAgIGhhbmRsZXIubWluID0gc3RhcnQ7CiAgICAgICAgICBoYW5kbGVyLm1heCA9IGVuZDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgaGFuZGxlci5taW4gPSBNYXRoLm1pbihoYW5kbGVyLm1pbiwgc3RhcnQpOwogICAgICAgICAgaGFuZGxlci5tYXggPSBNYXRoLm1heChoYW5kbGVyLm1heCwgZW5kKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICBzZXRDb2x1bW5Db3VudChoYW5kbGVyLmdyb3Vwcyk7CiAgICAgIHJldHVybiB2aXN1YWxzOwogICAgfQogIH07CiAgcmV0dXJuIGhhbmRsZXI7Cn0="},{"version":3,"sources":["../../../../src/components/VCalendar/modes/common.ts"],"names":[],"mappings":"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","sourcesContent":["import { CalendarEventParsed, CalendarEventVisual, CalendarTimestamp } from 'types'\nimport { getTimestampIdentifier } from '../util/timestamp'\n\nconst MILLIS_IN_DAY = 86400000\n\nexport type GetRange = (event: CalendarEventParsed) => [number, number]\n\nexport function getVisuals (events: CalendarEventParsed[], minStart = 0): CalendarEventVisual[] {\n  const visuals = events.map(event => ({\n    event,\n    columnCount: 0,\n    column: 0,\n    left: 0,\n    width: 100,\n  }))\n\n  visuals.sort((a, b) => {\n    return (Math.max(minStart, a.event.startTimestampIdentifier) - Math.max(minStart, b.event.startTimestampIdentifier)) ||\n           (b.event.endTimestampIdentifier - a.event.endTimestampIdentifier)\n  })\n\n  return visuals\n}\n\nexport interface ColumnGroup {\n  start: number\n  end: number\n  visuals: CalendarEventVisual[]\n}\n\nexport function hasOverlap (s0: number, e0: number, s1: number, e1: number, exclude = true): boolean {\n  return exclude ? !(s0 >= e1 || e0 <= s1) : !(s0 > e1 || e0 < s1)\n}\n\nexport function setColumnCount (groups: ColumnGroup[]) {\n  groups.forEach(group => {\n    group.visuals.forEach(groupVisual => {\n      groupVisual.columnCount = groups.length\n    })\n  })\n}\n\nexport function getRange (event: CalendarEventParsed): [number, number] {\n  return [event.startTimestampIdentifier, event.endTimestampIdentifier]\n}\n\nexport function getDayRange (event: CalendarEventParsed): [number, number] {\n  return [event.startIdentifier, event.endIdentifier]\n}\n\nexport function getNormalizedRange (event: CalendarEventParsed, dayStart: number): [number, number] {\n  return [Math.max(dayStart, event.startTimestampIdentifier), Math.min(dayStart + MILLIS_IN_DAY, event.endTimestampIdentifier)]\n}\n\nexport function getOpenGroup (groups: ColumnGroup[], start: number, end: number, timed: boolean) {\n  for (let i = 0; i < groups.length; i++) {\n    const group = groups[i]\n    let intersected = false\n\n    if (hasOverlap(start, end, group.start, group.end, timed)) {\n      for (let k = 0; k < group.visuals.length; k++) {\n        const groupVisual = group.visuals[k]\n        const [groupStart, groupEnd] = timed ? getRange(groupVisual.event) : getDayRange(groupVisual.event)\n\n        if (hasOverlap(start, end, groupStart, groupEnd, timed)) {\n          intersected = true\n          break\n        }\n      }\n    }\n\n    if (!intersected) {\n      return i\n    }\n  }\n\n  return -1\n}\n\nexport function getOverlapGroupHandler (firstWeekday: number) {\n  const handler = {\n    groups: [] as ColumnGroup[],\n    min: -1,\n    max: -1,\n    reset: () => {\n      handler.groups = []\n      handler.min = handler.max = -1\n    },\n    getVisuals: (day: CalendarTimestamp, dayEvents: CalendarEventParsed[], timed: boolean) => {\n      if (day.weekday === firstWeekday || timed) {\n        handler.reset()\n      }\n\n      const dayStart = getTimestampIdentifier(day)\n      const visuals = getVisuals(dayEvents, dayStart)\n\n      visuals.forEach(visual => {\n        const [start, end] = timed ? getRange(visual.event) : getDayRange(visual.event)\n\n        if (handler.groups.length > 0 && !hasOverlap(start, end, handler.min, handler.max, timed)) {\n          setColumnCount(handler.groups)\n          handler.reset()\n        }\n\n        let targetGroup = getOpenGroup(handler.groups, start, end, timed)\n\n        if (targetGroup === -1) {\n          targetGroup = handler.groups.length\n\n          handler.groups.push({ start, end, visuals: [] })\n        }\n\n        const target = handler.groups[targetGroup]\n        target.visuals.push(visual)\n        target.start = Math.min(target.start, start)\n        target.end = Math.max(target.end, end)\n\n        visual.column = targetGroup\n\n        if (handler.min === -1) {\n          handler.min = start\n          handler.max = end\n        } else {\n          handler.min = Math.min(handler.min, start)\n          handler.max = Math.max(handler.max, end)\n        }\n      })\n\n      setColumnCount(handler.groups)\n\n      return visuals\n    },\n  }\n\n  return handler\n}\n"],"sourceRoot":""}]}