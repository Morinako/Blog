{"remainingRequest":"D:\\solarBlog-master\\solarBlog-master\\solarBlog-web\\frontDesk\\node_modules\\babel-loader\\lib\\index.js!D:\\solarBlog-master\\solarBlog-master\\solarBlog-web\\frontDesk\\node_modules\\vuetify-loader\\lib\\loader.js??ref--19-0!D:\\solarBlog-master\\solarBlog-master\\solarBlog-web\\frontDesk\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\solarBlog-master\\solarBlog-master\\solarBlog-web\\frontDesk\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\solarBlog-master\\solarBlog-master\\solarBlog-web\\frontDesk\\src\\components\\ChatRoom.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\solarBlog-master\\solarBlog-master\\solarBlog-web\\frontDesk\\src\\components\\ChatRoom.vue","mtime":1692914156000},{"path":"D:\\solarBlog-master\\solarBlog-master\\solarBlog-web\\frontDesk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\solarBlog-master\\solarBlog-master\\solarBlog-web\\frontDesk\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\solarBlog-master\\solarBlog-master\\solarBlog-web\\frontDesk\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"D:\\solarBlog-master\\solarBlog-master\\solarBlog-web\\frontDesk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\solarBlog-master\\solarBlog-master\\solarBlog-web\\frontDesk\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkID0gcmVxdWlyZSgiRDpcXHNvbGFyQmxvZy1tYXN0ZXJcXHNvbGFyQmxvZy1tYXN0ZXJcXHNvbGFyQmxvZy13ZWJcXGZyb250RGVza1xcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIik7Cgp2YXIgX2ludGVyb3BSZXF1aXJlRGVmYXVsdCA9IHJlcXVpcmUoIkQ6XFxzb2xhckJsb2ctbWFzdGVyXFxzb2xhckJsb2ctbWFzdGVyXFxzb2xhckJsb2ctd2ViXFxmcm9udERlc2tcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0Iik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmRleC1vZiIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZSIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcudHJpbSIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giKTsKCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwOwoKdmFyIF90eXBlb2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJEOlxcc29sYXJCbG9nLW1hc3Rlclxcc29sYXJCbG9nLW1hc3Rlclxcc29sYXJCbG9nLXdlYlxcZnJvbnREZXNrXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL3R5cGVvZiIpKTsKCnZhciBfcmVjb3JkZXJ4ID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQocmVxdWlyZSgicmVjb3JkZXJ4IikpOwoKdmFyIF9FbW9qaSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiLi9FbW9qaSIpKTsKCnZhciBfZW1vamkgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi4uL2Fzc2V0cy9qcy9lbW9qaSIpKTsKCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCnZhciBfZGVmYXVsdCA9IHsKICBjb21wb25lbnRzOiB7CiAgICBFbW9qaTogX0Vtb2ppLmRlZmF1bHQKICB9LAogIHVwZGF0ZWQ6IGZ1bmN0aW9uIHVwZGF0ZWQoKSB7CiAgICB2YXIgZWxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm1lc3NhZ2UiKTsKICAgIGVsZS5zY3JvbGxUb3AgPSBlbGUuc2Nyb2xsSGVpZ2h0OwogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHsKICAgIGNsZWFySW50ZXJ2YWwodGhpcy5oZWFydEJlYXQpOwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlzRW1vamk6IGZhbHNlLAogICAgICBpc1Nob3c6IGZhbHNlLAogICAgICB3ZWJzb2NrZXQ6IG51bGwsCiAgICAgIGNvbnRlbnQ6ICIiLAogICAgICBjaGF0UmVjb3JkTGlzdDogW10sCiAgICAgIHZvaWNlTGlzdDogW10sCiAgICAgIHJjOiBudWxsLAogICAgICBpcEFkZHJlc3M6ICIiLAogICAgICBpcFNvdXJjZTogIiIsCiAgICAgIGNvdW50OiAwLAogICAgICB1bnJlYWRDb3VudDogMCwKICAgICAgaXNWb2ljZTogZmFsc2UsCiAgICAgIHZvaWNlQWN0aXZlOiBmYWxzZSwKICAgICAgc3RhcnRWb2ljZVRpbWU6IG51bGwsCiAgICAgIFdlYnNvY2tldE1lc3NhZ2U6IHsKICAgICAgICB0eXBlOiBudWxsLAogICAgICAgIGRhdGE6IG51bGwKICAgICAgfSwKICAgICAgaGVhcnRCZWF0OiBudWxsCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgb3BlbjogZnVuY3Rpb24gb3BlbigpIHsKICAgICAgaWYgKHRoaXMud2Vic29ja2V0ID09IG51bGwpIHsKICAgICAgICB0aGlzLmNvbm5lY3QoKTsKICAgICAgfQoKICAgICAgdGhpcy51bnJlYWRDb3VudCA9IDA7CiAgICAgIHRoaXMuaXNTaG93ID0gIXRoaXMuaXNTaG93OwogICAgfSwKICAgIG9wZW5FbW9qaTogZnVuY3Rpb24gb3BlbkVtb2ppKCkgewogICAgICB0aGlzLmlzRW1vamkgPSAhdGhpcy5pc0Vtb2ppOwogICAgICB0aGlzLmlzVm9pY2UgPSBmYWxzZTsKICAgIH0sCiAgICBjb25uZWN0OiBmdW5jdGlvbiBjb25uZWN0KCkgewogICAgICB2YXIgdGhhdCA9IHRoaXM7CiAgICAgIHRoaXMud2Vic29ja2V0ID0gbmV3IFdlYlNvY2tldCh0aGlzLmJsb2dJbmZvLndlYnNpdGVDb25maWcud2Vic29ja2V0VXJsKTsgLy8gdGhpcy53ZWJzb2NrZXQgPSBuZXcgV2ViU29ja2V0KCJ3czovLzEyNy4wLjAuMTozMzAwL3dlYnNvY2tldCIpOwogICAgICAvLyDov57mjqXlj5HnlJ/plJnor6/nmoTlm57osIPmlrnms5UKCiAgICAgIHRoaXMud2Vic29ja2V0Lm9uZXJyb3IgPSBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICBjb25zb2xlLmxvZyhldmVudCk7CiAgICAgICAgYWxlcnQoIuWksei0pSIpOwogICAgICB9OyAvLyDov57mjqXmiJDlip/lu7rnq4vnmoTlm57osIPmlrnms5UKCgogICAgICB0aGlzLndlYnNvY2tldC5vbm9wZW4gPSBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICBjb25zb2xlLmxvZyhldmVudCk7IC8vIOWPkemAgeW/g+i3s+a2iOaBrwoKICAgICAgICB0aGF0LmhlYXJ0QmVhdCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBiZWF0TWVzc2FnZSA9IHsKICAgICAgICAgICAgdHlwZTogNiwKICAgICAgICAgICAgZGF0YTogInBpbmciCiAgICAgICAgICB9OwogICAgICAgICAgdGhhdC53ZWJzb2NrZXQuc2VuZChKU09OLnN0cmluZ2lmeShiZWF0TWVzc2FnZSkpOwogICAgICAgIH0sIDMwICogMTAwMCk7CiAgICAgIH07IC8vIOaOpeaUtuWIsOa2iOaBr+eahOWbnuiwg+aWueazlQoKCiAgICAgIHRoaXMud2Vic29ja2V0Lm9ubWVzc2FnZSA9IGZ1bmN0aW9uIChldmVudCkgewogICAgICAgIHZhciBkYXRhID0gSlNPTi5wYXJzZShldmVudC5kYXRhKTsKCiAgICAgICAgc3dpdGNoIChkYXRhLnR5cGUpIHsKICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgLy8g5Zyo57q/5Lq65pWwCiAgICAgICAgICAgIHRoYXQuY291bnQgPSBkYXRhLmRhdGE7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgLy8g5Y6G5Y+y6K6w5b2VCiAgICAgICAgICAgIHRoYXQuY2hhdFJlY29yZExpc3QgPSBkYXRhLmRhdGEuY2hhdFJlY29yZExpc3Q7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdkYXRhLmRhdGEuY2hhdFJlY29yZExpc3QnLCBkYXRhLmRhdGEuY2hhdFJlY29yZExpc3QpOwogICAgICAgICAgICB0aGF0LmNoYXRSZWNvcmRMaXN0LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICBpZiAoaXRlbS50eXBlID09PSA1KSB7CiAgICAgICAgICAgICAgICB0aGF0LnZvaWNlTGlzdC5wdXNoKGl0ZW0uaWQpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHRoYXQuaXBBZGRyZXNzID0gZGF0YS5kYXRhLmlwQWRkcmVzczsKICAgICAgICAgICAgdGhhdC5pcFNvdXJjZSA9IGRhdGEuZGF0YS5pcFNvdXJjZTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAvLyDmloflrZfmtojmga8KICAgICAgICAgICAgdGhhdC5jaGF0UmVjb3JkTGlzdC5wdXNoKGRhdGEuZGF0YSk7CgogICAgICAgICAgICBpZiAoIXRoYXQuaXNTaG93KSB7CiAgICAgICAgICAgICAgdGhhdC51bnJlYWRDb3VudCsrOwogICAgICAgICAgICB9CgogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgIC8vIOaSpOWbngogICAgICAgICAgICBpZiAoZGF0YS5kYXRhLmlzVm9pY2UpIHsKICAgICAgICAgICAgICB0aGF0LnZvaWNlTGlzdC5zcGxpY2UodGhhdC52b2ljZUxpc3QuaW5kZXhPZihkYXRhLmRhdGEuaWQpLCAxKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGF0LmNoYXRSZWNvcmRMaXN0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgaWYgKHRoYXQuY2hhdFJlY29yZExpc3RbaV0uaWQgPT09IGRhdGEuZGF0YS5pZCkgewogICAgICAgICAgICAgICAgdGhhdC5jaGF0UmVjb3JkTGlzdC5zcGxpY2UoaSwgMSk7CiAgICAgICAgICAgICAgICBpLS07CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIC8vIOivremfs+a2iOaBrwogICAgICAgICAgICB0aGF0LnZvaWNlTGlzdC5wdXNoKGRhdGEuZGF0YS5pZCk7CiAgICAgICAgICAgIHRoYXQuY2hhdFJlY29yZExpc3QucHVzaChkYXRhLmRhdGEpOwoKICAgICAgICAgICAgaWYgKCF0aGF0LmlzU2hvdykgewogICAgICAgICAgICAgIHRoYXQudW5yZWFkQ291bnQrKzsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9OyAvL+i/nuaOpeWFs+mXreeahOWbnuiwg+aWueazlQoKCiAgICAgIHRoaXMud2Vic29ja2V0Lm9uY2xvc2UgPSBmdW5jdGlvbiAoKSB7fTsKICAgIH0sCiAgICBzYXZlTWVzc2FnZTogZnVuY3Rpb24gc2F2ZU1lc3NhZ2UoZSkgewogICAgICAvL+WIpOaWreeZu+W9lQogICAgICBpZiAoIXRoaXMuJHN0b3JlLnN0YXRlLnVzZXJJZCkgewogICAgICAgIHRoaXMuaXNTaG93ID0gZmFsc2U7CiAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUubG9naW5GbGFnID0gdHJ1ZTsKICAgICAgICB0aGlzLiR0b2FzdCh7CiAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgbWVzc2FnZTogIuivt+WFiOeZu+W9lSEiCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9IGVsc2UgewogICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKCiAgICAgICAgaWYgKHRoaXMuY29udGVudC50cmltKCkgPT09ICIiKSB7CiAgICAgICAgICB0aGlzLiR0b2FzdCh7CiAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgIG1lc3NhZ2U6ICLlhoXlrrnkuI3og73kuLrnqboiCiAgICAgICAgICB9KTsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CgogICAgICAgIGNvbnNvbGUubG9nKCfovpPlhaUnLCB0aGlzLmNvbnRlbnQpOyAvL+ino+aekOihqOaDhQoKICAgICAgICB2YXIgcmVnID0gL1xbLis/XF0vZzsKICAgICAgICB0aGlzLmNvbnRlbnQgPSB0aGlzLmNvbnRlbnQucmVwbGFjZShyZWcsIGZ1bmN0aW9uIChzdHIpIHsKICAgICAgICAgIHJldHVybiAiPGltZyBzdHlsZT0ndmVydGljYWwtYWxpZ246IG1pZGRsZScgc3JjPSAnIiArIF9lbW9qaS5kZWZhdWx0W3N0cl0gKyAiJyB3aWR0aD0nMjInaGVpZ2h0PScyMCcgc3R5bGU9J3BhZGRpbmc6IDAgMXB4Jy8+IjsKICAgICAgICB9KTsKICAgICAgICBjb25zb2xlLmxvZygnY29udGVudCcsIHRoaXMuY29udGVudCk7CiAgICAgICAgdmFyIHNvY2tldE1zZyA9IHsKICAgICAgICAgIG5pY2tuYW1lOiB0aGlzLm5pY2tuYW1lLAogICAgICAgICAgYXZhdGFyOiB0aGlzLmF2YXRhciwKICAgICAgICAgIGNvbnRlbnQ6IHRoaXMuY29udGVudCwKICAgICAgICAgIHVzZXJJZDogdGhpcy51c2VySWQsCiAgICAgICAgICB0eXBlOiAzLAogICAgICAgICAgaXBBZGRyZXNzOiB0aGlzLmlwQWRkcmVzcywKICAgICAgICAgIGlwU291cmNlOiB0aGlzLmlwU291cmNlCiAgICAgICAgfTsKICAgICAgICB0aGlzLldlYnNvY2tldE1lc3NhZ2UudHlwZSA9IDM7CiAgICAgICAgdGhpcy5XZWJzb2NrZXRNZXNzYWdlLmRhdGEgPSBzb2NrZXRNc2c7CiAgICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkodGhpcy5XZWJzb2NrZXRNZXNzYWdlKSk7CiAgICAgICAgY29uc29sZS5sb2coKDAsIF90eXBlb2YyLmRlZmF1bHQpKEpTT04uc3RyaW5naWZ5KHRoaXMuV2Vic29ja2V0TWVzc2FnZSkpKTsKICAgICAgICB0aGlzLndlYnNvY2tldC5zZW5kKEpTT04uc3RyaW5naWZ5KHRoaXMuV2Vic29ja2V0TWVzc2FnZSkpOwogICAgICAgIHRoaXMuY29udGVudCA9ICIiOwogICAgICB9CiAgICB9LAogICAgYWRkRW1vamk6IGZ1bmN0aW9uIGFkZEVtb2ppKGtleSkgewogICAgICB0aGlzLmlzRW1vamkgPSBmYWxzZTsKICAgICAgdGhpcy4kcmVmcy5jaGF0SW5wdXQuZm9jdXMoKTsKICAgICAgdGhpcy5jb250ZW50ICs9IGtleTsKICAgIH0sCiAgICAvLyDlsZXnpLroj5zljZUKICAgIHNob3dCYWNrOiBmdW5jdGlvbiBzaG93QmFjayhpdGVtLCBpbmRleCwgZSkgewogICAgICB0aGlzLiRyZWZzLmJhY2tCdG4uZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIGl0ZW0uc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgfSk7CgogICAgICBpZiAoaXRlbS5pcEFkZHJlc3MgPT09IHRoaXMuaXBBZGRyZXNzIHx8IGl0ZW0udXNlcklkICE9IG51bGwgJiYgaXRlbS51c2VySWQgPT09IHRoaXMudXNlcklkKSB7CiAgICAgICAgdGhpcy4kcmVmcy5iYWNrQnRuW2luZGV4XS5zdHlsZS5sZWZ0ID0gZS5vZmZzZXRYICsgInB4IjsKICAgICAgICB0aGlzLiRyZWZzLmJhY2tCdG5baW5kZXhdLnN0eWxlLmJvdHRvbSA9IGUub2Zmc2V0WSArICJweCI7CiAgICAgICAgdGhpcy4kcmVmcy5iYWNrQnRuW2luZGV4XS5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKICAgICAgfQogICAgfSwKICAgIC8vIOaSpOWbnua2iOaBrwogICAgYmFjazogZnVuY3Rpb24gYmFjayhpdGVtLCBpbmRleCkgewogICAgICB2YXIgc29ja2V0TXNnID0gewogICAgICAgIGlkOiBpdGVtLmlkLAogICAgICAgIGlzVm9pY2U6IGl0ZW0udHlwZSA9PT0gNQogICAgICB9OwogICAgICB0aGlzLldlYnNvY2tldE1lc3NhZ2UudHlwZSA9IDQ7CiAgICAgIHRoaXMuV2Vic29ja2V0TWVzc2FnZS5kYXRhID0gc29ja2V0TXNnOwogICAgICB0aGlzLndlYnNvY2tldC5zZW5kKEpTT04uc3RyaW5naWZ5KHRoaXMuV2Vic29ja2V0TWVzc2FnZSkpOwogICAgICB0aGlzLiRyZWZzLmJhY2tCdG5baW5kZXhdLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICB9LAogICAgY2xvc2VBbGw6IGZ1bmN0aW9uIGNsb3NlQWxsKCkgewogICAgICB0aGlzLmlzRW1vamkgPSBmYWxzZTsKCiAgICAgIGlmICh0aGlzLmNoYXRSZWNvcmRMaXN0Lmxlbmd0aCA+IDApIHsKICAgICAgICB0aGlzLiRyZWZzLmJhY2tCdG4uZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgaXRlbS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgLy8g5b2V6Z+z5byA5aeLCiAgICB0cmFuc2xhdGlvblN0YXJ0OiBmdW5jdGlvbiB0cmFuc2xhdGlvblN0YXJ0KCkgewogICAgICB0aGlzLnZvaWNlQWN0aXZlID0gdHJ1ZTsKICAgICAgdmFyIHRoYXQgPSB0aGlzOwogICAgICB0aGF0LnJjID0gbmV3IF9yZWNvcmRlcnguZGVmYXVsdCgpOwogICAgICB0aGF0LiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgdGhhdC5yYy5zdGFydCgpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgdGhhdC5zdGFydFZvaWNlVGltZSA9IG5ldyBEYXRlKCk7CiAgICAgICAgICBjb25zb2xlLmxvZygic3RhcnQgcmVjb3JkaW5nIik7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygiUmVjb3JkaW5nIGZhaWxlZC4iLCBlcnJvcik7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOW9lemfs+e7k+adnwogICAgdHJhbnNsYXRpb25FbmQ6IGZ1bmN0aW9uIHRyYW5zbGF0aW9uRW5kKCkgewogICAgICBjb25zb2xlLmxvZygi57uT5p2fIik7CiAgICAgIHRoaXMudm9pY2VBY3RpdmUgPSBmYWxzZTsKICAgICAgdGhpcy5yYy5wYXVzZSgpOwoKICAgICAgaWYgKG5ldyBEYXRlKCkgLSB0aGlzLnN0YXJ0Vm9pY2VUaW1lIDwgMTAwMCkgewogICAgICAgIHRoaXMuJHRvYXN0KHsKICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICBtZXNzYWdlOiAi5oyJ6ZSu5pe26Ze05aSq55+tIgogICAgICAgIH0pOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgICAgdmFyIHdhdiA9IHRoaXMucmMuZ2V0UmVjb3JkKHsKICAgICAgICBlbmNvZGVUbzogX3JlY29yZGVyeC5FTkNPREVfVFlQRS5XQVYKICAgICAgfSk7CiAgICAgIHZhciBmaWxlID0gbmV3IEZpbGUoW3dhdl0sICJ2b2ljZS53YXYiLCB7CiAgICAgICAgdHlwZTogd2F2LnR5cGUKICAgICAgfSk7CiAgICAgIHZhciBmb3JtRGF0YSA9IG5ldyB3aW5kb3cuRm9ybURhdGEoKTsKICAgICAgZm9ybURhdGEuYXBwZW5kKCJmaWxlIiwgZmlsZSk7CiAgICAgIGZvcm1EYXRhLmFwcGVuZCgidHlwZSIsIDUpOwogICAgICBmb3JtRGF0YS5hcHBlbmQoIm5pY2tuYW1lIiwgdGhpcy5uaWNrbmFtZSk7CiAgICAgIGZvcm1EYXRhLmFwcGVuZCgiYXZhdGFyIiwgdGhpcy5hdmF0YXIpOwoKICAgICAgaWYgKHRoaXMudXNlcklkICE9IG51bGwpIHsKICAgICAgICBmb3JtRGF0YS5hcHBlbmQoInVzZXJJZCIsIHRoaXMudXNlcklkKTsKICAgICAgfQoKICAgICAgZm9ybURhdGEuYXBwZW5kKCJpcEFkZHJlc3MiLCB0aGlzLmlwQWRkcmVzcyk7CiAgICAgIGZvcm1EYXRhLmFwcGVuZCgiaXBTb3VyY2UiLCB0aGlzLmlwU291cmNlKTsKICAgICAgdmFyIG9wdGlvbnMgPSB7CiAgICAgICAgdXJsOiAiL2FwaS92b2ljZSIsCiAgICAgICAgZGF0YTogZm9ybURhdGEsCiAgICAgICAgbWV0aG9kOiAicG9zdCIsCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgIkNvbnRlbnQtVHlwZSI6ICJtdWx0aXBhcnQvZm9ybS1kYXRhIgogICAgICAgIH0KICAgICAgfTsKICAgICAgdGhpcy5heGlvcyhvcHRpb25zKTsKICAgIH0sCiAgICB0cmFuc2xhdGlvbm1vdmU6IGZ1bmN0aW9uIHRyYW5zbGF0aW9ubW92ZSgpIHt9LAogICAgLy8g5pKt5pS+6K+t6Z+zCiAgICBwbGF5Vm9pY2U6IGZ1bmN0aW9uIHBsYXlWb2ljZShpdGVtKSB7CiAgICAgIHZhciBwbGF5ZXIgPSB0aGlzLiRyZWZzLnZvaWNlc1t0aGlzLnZvaWNlTGlzdC5pbmRleE9mKGl0ZW0uaWQpXTsKCiAgICAgIGlmIChwbGF5ZXIucGF1c2VkKSB7CiAgICAgICAgcGxheWVyLnBsYXkoKTsKICAgICAgICB0aGlzLiRyZWZzLnBsYXlzW3RoaXMudm9pY2VMaXN0LmluZGV4T2YoaXRlbS5pZCldLiRlbC5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgIHRoaXMuJHJlZnMucGF1c2VzW3RoaXMudm9pY2VMaXN0LmluZGV4T2YoaXRlbS5pZCldLiRlbC5zdHlsZS5kaXNwbGF5ID0gImlubGluZS1mbGV4IjsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRyZWZzLnBsYXlzW3RoaXMudm9pY2VMaXN0LmluZGV4T2YoaXRlbS5pZCldLiRlbC5zdHlsZS5kaXNwbGF5ID0gImlubGluZS1mbGV4IjsKICAgICAgICB0aGlzLiRyZWZzLnBhdXNlc1t0aGlzLnZvaWNlTGlzdC5pbmRleE9mKGl0ZW0uaWQpXS4kZWwuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgICBwbGF5ZXIucGF1c2UoKTsKICAgICAgfQogICAgfSwKICAgIC8vIOivremfs+e7k+adnwogICAgZW5kVm9pY2U6IGZ1bmN0aW9uIGVuZFZvaWNlKGl0ZW0pIHsKICAgICAgdGhpcy4kcmVmcy5wbGF5c1t0aGlzLnZvaWNlTGlzdC5pbmRleE9mKGl0ZW0uaWQpXS4kZWwuc3R5bGUuZGlzcGxheSA9ICJpbmxpbmUtZmxleCI7CiAgICAgIHRoaXMuJHJlZnMucGF1c2VzW3RoaXMudm9pY2VMaXN0LmluZGV4T2YoaXRlbS5pZCldLiRlbC5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgfSwKICAgIC8vIOiOt+WPluivremfs+aXtumVvwogICAgZ2V0Vm9pY2VUaW1lOiBmdW5jdGlvbiBnZXRWb2ljZVRpbWUoaXRlbSkgewogICAgICB2YXIgdGltZSA9IHRoaXMuJHJlZnMudm9pY2VzW3RoaXMudm9pY2VMaXN0LmluZGV4T2YoaXRlbS5pZCldLmR1cmF0aW9uOwogICAgICB0aW1lID0gTWF0aC5jZWlsKHRpbWUpOwogICAgICB2YXIgc3RyID0gIuKsneKsneKsnSI7CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRpbWU7IGkrKykgewogICAgICAgIGlmIChpICUgMiA9PSAwKSB7CiAgICAgICAgICBzdHIgKz0gIuKsnSI7CiAgICAgICAgfQogICAgICB9CgogICAgICB0aGlzLiRyZWZzLnZvaWNlVGltZXNbdGhpcy52b2ljZUxpc3QuaW5kZXhPZihpdGVtLmlkKV0uaW5uZXJIVE1MID0gIiAiICsgc3RyICsgIiAiICsgdGltZSArICIgJyciOwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGlzU2VsZjogZnVuY3Rpb24gaXNTZWxmKCkgewogICAgICByZXR1cm4gZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5pcEFkZHJlc3MgPT09IHRoaXMuaXBBZGRyZXNzIHx8IGl0ZW0udXNlcklkICE9IG51bGwgJiYgaXRlbS51c2VySWQgPT09IHRoaXMudXNlcklkOwogICAgICB9OwogICAgfSwKICAgIGlzbGVmdDogZnVuY3Rpb24gaXNsZWZ0KCkgewogICAgICByZXR1cm4gZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gdGhpcy5pc1NlbGYoaXRlbSkgPyAidXNlci1hdmF0YXIgcmlnaHQtYXZhdGFyIiA6ICJ1c2VyLWF2YXRhciBsZWZ0LWF2YXRhciI7CiAgICAgIH07CiAgICB9LAogICAgaXNNeUNvbnRlbnQ6IGZ1bmN0aW9uIGlzTXlDb250ZW50KCkgewogICAgICByZXR1cm4gZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gdGhpcy5pc1NlbGYoaXRlbSkgPyAibXktY29udGVudCIgOiAidXNlci1jb250ZW50IjsKICAgICAgfTsKICAgIH0sCiAgICBpc015TWVzc2FnZTogZnVuY3Rpb24gaXNNeU1lc3NhZ2UoKSB7CiAgICAgIHJldHVybiBmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiB0aGlzLmlzU2VsZihpdGVtKSA/ICJteS1tZXNzYWdlIiA6ICJ1c2VyLW1lc3NhZ2UiOwogICAgICB9OwogICAgfSwKICAgIGJsb2dJbmZvOiBmdW5jdGlvbiBibG9nSW5mbygpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmJsb2dJbmZvOwogICAgfSwKICAgIG5pY2tuYW1lOiBmdW5jdGlvbiBuaWNrbmFtZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLm5pY2tuYW1lICE9IG51bGwgPyB0aGlzLiRzdG9yZS5zdGF0ZS5uaWNrbmFtZSA6IHRoaXMuaXBBZGRyZXNzOwogICAgfSwKICAgIGF2YXRhcjogZnVuY3Rpb24gYXZhdGFyKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuYXZhdGFyICE9IG51bGwgPyB0aGlzLiRzdG9yZS5zdGF0ZS5hdmF0YXIgOiB0aGlzLiRzdG9yZS5zdGF0ZS5ibG9nSW5mby53ZWJzaXRlQ29uZmlnLnRvdXJpc3RBdmF0YXI7CiAgICB9LAogICAgdXNlcklkOiBmdW5jdGlvbiB1c2VySWQoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VySWQ7CiAgICB9LAogICAgaXNJbnB1dDogZnVuY3Rpb24gaXNJbnB1dCgpIHsKICAgICAgcmV0dXJuIHRoaXMuY29udGVudC50cmltKCkgIT0gIiIgPyAiaWNvbmZvbnQgaWNvbnpoaWZlaWppIHN1Ym1pdC1idG4iIDogImljb25mb250IGljb256aGlmZWlqaSI7CiAgICB9CiAgfQp9OwpleHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDs="},{"version":3,"sources":["ChatRoom.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <!-- 聊天界面 -->\n    <div\n      class=\"chat-container animated bounceInUp\"\n      v-show=\"isShow\"\n      @click=\"closeAll\"\n      @contextmenu.prevent.stop=\"closeAll\"\n    >\n      <!-- 标题 -->\n      <div class=\"header\">\n        <img\n          width=\"32\"\n          height=\"32\"\n          src=\"../assets/icons/images/chatRoom.png\"\n        />\n        <div class=\"chatTitle\">\n          <div>聊天室</div>\n          <div style=\"font-size:12px\">当前{{ count }}人在线</div>\n        </div>\n        <svg-icon\n                icon-class=\"close\"\n                class=\"closeChat\"\n                @click=\"isShow = false\">\n        </svg-icon>\n      </div>\n      <!-- 对话内容 -->\n      <div class=\"message\" id=\"message\">\n        <!-- 录音遮罩层 -->\n        <div\n          v-show=\"voiceActive\"\n          class=\"voice\"\n          @mousemove.prevent.stop=\"translationmove($event)\"\n          @mouseup.prevent.stop=\"translationEnd($event)\"\n        >\n          <v-icon ref=\"voiceClose\" class=\"close-voice\">mdi-close</v-icon>\n        </div>\n        <div\n          :class=\"isMyMessage(item)\"\n          v-for=\"(item, index) of chatRecordList\"\n          :key=\"index\"\n        >\n          <!-- 头像 -->\n          <img :src=\"item.avatar\" :class=\"isleft(item)\" />\n          <div>\n            <div class=\"nickname\" v-if=\"!isSelf(item)\">\n              {{ item.nickname }}\n              <span style=\"margin-left:12px\">{{ item.createTime | hour }}</span>\n            </div>\n            <!-- 内容 -->\n            <div\n              ref=\"content\"\n              @contextmenu.prevent.stop=\"showBack(item, index, $event)\"\n              :class=\"isMyContent(item)\"\n            >\n              <!-- 文字消息 -->\n              <div v-if=\"item.type == 3\" v-html=\"item.content\" />\n              <!-- 语音消息 -->\n              <div v-if=\"item.type == 5\" @click.prevent.stop=\"playVoice(item)\">\n                <audio\n                  @ended=\"endVoice(item)\"\n                  @canplay=\"getVoiceTime(item)\"\n                  ref=\"voices\"\n                  :src=\"item.content\"\n                  style=\"display:none\"\n                />\n                <!-- 播放 -->\n                <v-icon\n                  :color=\"isSelf(item) ? '#fff' : '#000'\"\n                  ref=\"plays\"\n                  style=\"display:inline-flex;cursor: pointer;color: black\"\n                >\n                  mdi-arrow-right-drop-circle\n                </v-icon>\n                <!-- 暂停 -->\n                <v-icon\n                  :color=\"isSelf(item) ? '#fff' : '#000'\"\n                  ref=\"pauses\"\n                  style=\"display:none;cursor: pointer;color: black\"\n                >\n                  mdi-pause-circle\n                </v-icon>\n                <!-- 音频时长 -->\n                <span ref=\"voiceTimes\" />\n              </div>\n              <div class=\"back-menu\" ref=\"backBtn\" @click=\"back(item, index)\">\n                撤回\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <!-- 输入框 -->\n      <div class=\"footer\">\n        <!-- 表情框 -->\n        <div class=\"emoji-box\" v-show=\"isEmoji\">\n          <Emoji :chooseEmoji=\"true\" @addEmoji=\"addEmoji\" />\n        </div>\n        <div class=\"emoji-border\" v-show=\"isEmoji\" />\n        <!-- 切换输入方式 -->\n        <v-icon\n          v-show=\"!isVoice\"\n          @click=\"isVoice = !isVoice\"\n          style=\"margin-right: 8px;color: black\"\n        >\n          mdi-microphone\n        </v-icon>\n        <v-icon\n          v-show=\"isVoice\"\n          @click=\"isVoice = !isVoice\"\n          style=\"margin-right: 8px;color: black\"\n        >\n          mdi-keyboard\n        </v-icon>\n        <!-- 文字输入 -->\n        <textarea\n          v-show=\"!isVoice\"\n          ref=\"chatInput\"\n          v-model=\"content\"\n          @keydown.enter=\"saveMessage($event)\"\n          placeholder=\"请输入内容\"\n        />\n        <!-- 语音输入 -->\n        <button\n          class=\"voice-btn\"\n          v-show=\"isVoice\"\n          @mousedown.prevent.stop=\"translationStart\"\n          @mouseup.prevent.stop=\"translationEnd($event)\"\n          @touchstart.prevent.stop=\"translationStart\"\n          @touchend.prevent.stop=\"translationEnd($event)\"\n          @touchmove.prevent.stop=\"translationmove($event)\"\n        >\n          按住说话\n        </button>\n        <!-- 表情 -->\n        <i\n          class=\"iconfont iconbiaoqing emoji\"\n          :style=\"isEmoji ? 'color:#FFC83D' : ''\"\n          @click.prevent.stop=\"openEmoji\"\n        />\n        <!-- 发送按钮 -->\n        <i :class=\"isInput\" @click=\"saveMessage\" style=\"font-size: 1.5rem\" />\n      </div>\n    </div>\n    <!-- 未读数量 -->\n    <div class=\"chat-btn\" @click=\"open\">\n      <span class=\"unread\" v-if=\"unreadCount > 0\">{{ unreadCount }}</span>\n      <img\n        width=\"100%\"\n        height=\"100%\"\n        src=\"../assets/icons/images/chat.png\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport Recorderx, { ENCODE_TYPE } from \"recorderx\";\nimport Emoji from \"./Emoji\";\nimport EmojiList from \"../assets/js/emoji\";\nexport default {\n  components: {\n    Emoji\n  },\n  updated() {\n    var ele = document.getElementById(\"message\");\n    ele.scrollTop = ele.scrollHeight;\n  },\n  beforeDestroy() {\n    clearInterval(this.heartBeat);\n  },\n  data: function() {\n    return {\n      isEmoji: false,\n      isShow: false,\n      websocket: null,\n      content: \"\",\n      chatRecordList: [],\n      voiceList: [],\n      rc: null,\n      ipAddress: \"\",\n      ipSource: \"\",\n      count: 0,\n      unreadCount: 0,\n      isVoice: false,\n      voiceActive: false,\n      startVoiceTime: null,\n      WebsocketMessage: {\n        type: null,\n        data: null\n      },\n      heartBeat: null\n    };\n  },\n  methods: {\n    open() {\n      if (this.websocket == null) {\n        this.connect();\n      }\n      this.unreadCount = 0;\n      this.isShow = !this.isShow;\n    },\n    openEmoji() {\n      this.isEmoji = !this.isEmoji;\n      this.isVoice = false;\n    },\n    connect() {\n      var that = this;\n      this.websocket = new WebSocket(this.blogInfo.websiteConfig.websocketUrl);\n      // this.websocket = new WebSocket(\"ws://127.0.0.1:3300/websocket\");\n      // 连接发生错误的回调方法\n      this.websocket.onerror = function(event) {\n        console.log(event);\n        alert(\"失败\");\n      };\n      // 连接成功建立的回调方法\n      this.websocket.onopen = function(event) {\n        console.log(event);\n        // 发送心跳消息\n        that.heartBeat = setInterval(function() {\n          var beatMessage = {\n            type: 6,\n            data: \"ping\"\n          };\n          that.websocket.send(JSON.stringify(beatMessage));\n        }, 30 * 1000);\n      };\n      // 接收到消息的回调方法\n      this.websocket.onmessage = function(event) {\n        const data = JSON.parse(event.data);\n        switch (data.type) {\n          case 1:\n            // 在线人数\n            that.count = data.data;\n            break;\n          case 2:\n            // 历史记录\n            that.chatRecordList = data.data.chatRecordList;\n            console.log('data.data.chatRecordList',data.data.chatRecordList)\n            that.chatRecordList.forEach(item => {\n              if (item.type === 5) {\n                that.voiceList.push(item.id);\n              }\n            });\n            that.ipAddress = data.data.ipAddress;\n            that.ipSource = data.data.ipSource;\n            break;\n          case 3:\n            // 文字消息\n            that.chatRecordList.push(data.data);\n            if (!that.isShow) {\n              that.unreadCount++;\n            }\n            break;\n          case 4:\n            // 撤回\n            if (data.data.isVoice) {\n              that.voiceList.splice(that.voiceList.indexOf(data.data.id), 1);\n            }\n            for (var i = 0; i < that.chatRecordList.length; i++) {\n              if (that.chatRecordList[i].id === data.data.id) {\n                that.chatRecordList.splice(i, 1);\n                i--;\n              }\n            }\n            break;\n          case 5:\n            // 语音消息\n            that.voiceList.push(data.data.id);\n            that.chatRecordList.push(data.data);\n            if (!that.isShow) {\n              that.unreadCount++;\n            }\n            break;\n        }\n      };\n      //连接关闭的回调方法\n      this.websocket.onclose = function() {};\n    },\n    saveMessage(e) {\n      //判断登录\n      if (!this.$store.state.userId) {\n        this.isShow = false\n        this.$store.state.loginFlag = true;\n        this.$toast({ type: \"error\", message: \"请先登录!\" });\n        return false;\n      } else {\n        e.preventDefault();\n        if (this.content.trim() === \"\") {\n          this.$toast({ type: \"error\", message: \"内容不能为空\" });\n          return false;\n        }\n        console.log('输入',this.content)\n        //解析表情\n        var reg = /\\[.+?\\]/g;\n        this.content = this.content.replace(reg, function(str) {\n          return (\n                  \"<img style='vertical-align: middle' src= '\" +\n                  EmojiList[str] +\n                  \"' width='22'height='20' style='padding: 0 1px'/>\"\n          );\n        });\n        console.log('content',this.content)\n        var socketMsg = {\n          nickname: this.nickname,\n          avatar: this.avatar,\n          content: this.content,\n          userId: this.userId,\n          type: 3,\n          ipAddress: this.ipAddress,\n          ipSource: this.ipSource\n        };\n        this.WebsocketMessage.type = 3;\n        this.WebsocketMessage.data = socketMsg;\n        console.log(JSON.stringify(this.WebsocketMessage))\n        console.log(typeof JSON.stringify(this.WebsocketMessage))\n        this.websocket.send(JSON.stringify(this.WebsocketMessage));\n        this.content = \"\";\n      }\n    },\n    addEmoji(key) {\n      this.isEmoji = false;\n      this.$refs.chatInput.focus();\n      this.content += key;\n    },\n    // 展示菜单\n    showBack(item, index, e) {\n      this.$refs.backBtn.forEach(item => {\n        item.style.display = \"none\";\n      });\n      if (\n        item.ipAddress === this.ipAddress ||\n        (item.userId != null && item.userId === this.userId)\n      ) {\n        this.$refs.backBtn[index].style.left = e.offsetX + \"px\";\n        this.$refs.backBtn[index].style.bottom = e.offsetY + \"px\";\n        this.$refs.backBtn[index].style.display = \"block\";\n      }\n    },\n    // 撤回消息\n    back(item, index) {\n      var socketMsg = {\n        id: item.id,\n        isVoice: item.type === 5\n      };\n      this.WebsocketMessage.type = 4;\n      this.WebsocketMessage.data = socketMsg;\n      this.websocket.send(JSON.stringify(this.WebsocketMessage));\n      this.$refs.backBtn[index].style.display = \"none\";\n    },\n    closeAll() {\n      this.isEmoji = false;\n      if (this.chatRecordList.length > 0) {\n        this.$refs.backBtn.forEach(item => {\n          item.style.display = \"none\";\n        });\n      }\n    },\n    // 录音开始\n    translationStart() {\n      this.voiceActive = true;\n      let that = this;\n      that.rc = new Recorderx();\n      that.$nextTick(() => {\n        that.rc\n          .start()\n          .then(() => {\n            that.startVoiceTime = new Date();\n            console.log(\"start recording\");\n          })\n          .catch(error => {\n            console.log(\"Recording failed.\", error);\n          });\n      });\n    },\n    // 录音结束\n    translationEnd() {\n      console.log(\"结束\");\n      this.voiceActive = false;\n      this.rc.pause();\n      if (new Date() - this.startVoiceTime < 1000) {\n        this.$toast({ type: \"error\", message: \"按键时间太短\" });\n        return false;\n      }\n      var wav = this.rc.getRecord({\n        encodeTo: ENCODE_TYPE.WAV\n      });\n      var file = new File([wav], \"voice.wav\", {\n        type: wav.type\n      });\n      var formData = new window.FormData();\n      formData.append(\"file\", file);\n      formData.append(\"type\", 5);\n      formData.append(\"nickname\", this.nickname);\n      formData.append(\"avatar\", this.avatar);\n      if (this.userId != null) {\n        formData.append(\"userId\", this.userId);\n      }\n      formData.append(\"ipAddress\", this.ipAddress);\n      formData.append(\"ipSource\", this.ipSource);\n      var options = {\n        url: \"/api/voice\",\n        data: formData,\n        method: \"post\",\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      };\n      this.axios(options);\n    },\n    translationmove() {},\n    // 播放语音\n    playVoice(item) {\n      var player = this.$refs.voices[this.voiceList.indexOf(item.id)];\n      if (player.paused) {\n        player.play();\n        this.$refs.plays[this.voiceList.indexOf(item.id)].$el.style.display =\n          \"none\";\n        this.$refs.pauses[this.voiceList.indexOf(item.id)].$el.style.display =\n          \"inline-flex\";\n      } else {\n        this.$refs.plays[this.voiceList.indexOf(item.id)].$el.style.display =\n          \"inline-flex\";\n        this.$refs.pauses[this.voiceList.indexOf(item.id)].$el.style.display =\n          \"none\";\n        player.pause();\n      }\n    },\n    // 语音结束\n    endVoice(item) {\n      this.$refs.plays[this.voiceList.indexOf(item.id)].$el.style.display =\n        \"inline-flex\";\n      this.$refs.pauses[this.voiceList.indexOf(item.id)].$el.style.display =\n        \"none\";\n    },\n    // 获取语音时长\n    getVoiceTime(item) {\n      var time = this.$refs.voices[this.voiceList.indexOf(item.id)].duration;\n      time = Math.ceil(time);\n      var str = \"⬝⬝⬝\";\n      for (var i = 0; i < time; i++) {\n        if (i % 2 == 0) {\n          str += \"⬝\";\n        }\n      }\n      this.$refs.voiceTimes[this.voiceList.indexOf(item.id)].innerHTML =\n        \" \" + str + \" \" + time + \" ''\";\n    }\n  },\n  computed: {\n    isSelf() {\n      return function(item) {\n        return (\n          item.ipAddress === this.ipAddress ||\n          (item.userId != null && item.userId === this.userId)\n        );\n      };\n    },\n    isleft() {\n      return function(item) {\n        return this.isSelf(item)\n          ? \"user-avatar right-avatar\"\n          : \"user-avatar left-avatar\";\n      };\n    },\n    isMyContent() {\n      return function(item) {\n        return this.isSelf(item) ? \"my-content\" : \"user-content\";\n      };\n    },\n    isMyMessage() {\n      return function(item) {\n        return this.isSelf(item) ? \"my-message\" : \"user-message\";\n      };\n    },\n    blogInfo() {\n      return this.$store.state.blogInfo;\n    },\n    nickname() {\n      return this.$store.state.nickname != null\n        ? this.$store.state.nickname\n        : this.ipAddress;\n    },\n    avatar() {\n      return this.$store.state.avatar != null\n        ? this.$store.state.avatar\n        : this.$store.state.blogInfo.websiteConfig.touristAvatar;\n    },\n    userId() {\n      return this.$store.state.userId;\n    },\n    isInput() {\n      return this.content.trim() != \"\"\n        ? \"iconfont iconzhifeiji submit-btn\"\n        : \"iconfont iconzhifeiji\";\n    }\n  }\n};\n</script>\n\n<style scoped>\n@media (min-width: 760px) {\n  .chat-container {\n    position: fixed;\n    color: #4c4948 !important;\n    bottom: 104px;\n    right: 20px;\n    height: calc(85% - 64px - 20px);\n    max-height: 590px !important;\n    min-height: 250px !important;\n    width: 400px !important;\n    border-radius: 16px !important;\n  }\n  .closeChat {\n    display: block;\n    margin-left: auto;\n    cursor: pointer;\n  }\n}\n@media (max-width: 760px) {\n  .chat-container {\n    position: fixed;\n    top: 0;\n    bottom: 0;\n    right: 0;\n    left: 0;\n  }\n  .closeChat {\n    display: block;\n    margin-left: auto;\n    cursor: pointer;\n  }\n}\n.chat-container {\n  box-shadow: 0 5px 40px rgba(0, 0, 0, 0.16) !important;\n  font-size: 14px;\n  background: #f4f6fb;\n  z-index: 1200;\n}\n.chatTitle{\n  margin-left:12px;\n  color: black;\n}\n.chat-btn {\n  border-radius: 100px !important;\n  position: fixed;\n  bottom: 15px;\n  right: 5px;\n  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.16) !important;\n  cursor: pointer;\n  height: 60px !important;\n  width: 60px !important;\n  z-index: 1000 !important;\n  user-select: none;\n}\n.header {\n  display: flex;\n  align-items: center;\n  padding: 20px 24px;\n  background: #ffffff;\n  border-radius: 1rem 1rem 0 0;\n  box-shadow: 0 10px 15px -16px rgba(50, 50, 93, 0.08),\n    0 4px 6px -8px rgba(50, 50, 93, 0.04);\n}\n.footer {\n  padding: 8px 16px;\n  position: absolute;\n  width: 100%;\n  bottom: 0;\n  background: #f7f7f7;\n  border-radius: 0 0 1rem 1rem;\n  display: flex;\n  align-items: center;\n}\n.footer textarea {\n  background: #fff;\n  padding-left: 10px;\n  padding-top: 8px;\n  width: 100%;\n  height: 32px;\n  outline: none;\n  resize: none;\n  overflow: hidden;\n  font-size: 13px;\n}\n.voice-btn {\n  font-size: 13px;\n  outline: none;\n  height: 32px;\n  width: 100%;\n  background: #fff;\n  border-radius: 2px;\n}\n.message {\n  position: absolute;\n  width: 100%;\n  padding: 20px 16px 0 16px;\n  top: 80px;\n  bottom: 50px;\n  overflow-y: auto;\n  overflow-x: hidden;\n}\n.text {\n  color: #999;\n  text-align: center;\n  font-size: 12px;\n  margin-bottom: 12px;\n}\n.user-message {\n  display: flex;\n  margin-bottom: 10px;\n}\n.my-message {\n  display: flex;\n  margin-bottom: 10px;\n  justify-content: flex-end;\n}\n.left-avatar {\n  margin-right: 10px;\n}\n.right-avatar {\n  order: 1;\n  margin-left: 10px;\n}\n.user-avatar {\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n}\n.nickname {\n  display: flex;\n  align-items: center;\n  font-size: 12px;\n  margin-top: 3px;\n  margin-bottom: 5px;\n  color: dodgerblue;\n}\n.user-content {\n  position: relative;\n  background-color: #fff;\n  padding: 10px;\n  border-radius: 5px 20px 20px 20px;\n  width: fit-content;\n  color: black;\n}\n.my-content {\n  position: relative;\n  border-radius: 20px 5px 20px 20px;\n  padding: 12px;\n  background: #12b7f5;\n  color: #fff;\n}\n.submit-btn {\n  color: rgb(31, 147, 255);\n}\n.emoji {\n  cursor: pointer;\n  font-size: 1.3rem;\n  margin: 0 8px;\n}\n.emoji-box {\n  position: absolute;\n  box-shadow: 0 8px 16px rgba(50, 50, 93, 0.08), 0 4px 12px rgba(0, 0, 0, 0.07);\n  background: #fff;\n  border-radius: 8px;\n  right: 20px;\n  bottom: 52px;\n  height: 180px;\n  width: 300px;\n  overflow-y: auto;\n  padding: 6px 16px;\n}\n.emoji-border:before {\n  display: block;\n  height: 0;\n  width: 0;\n  content: \"\";\n  border-left: 14px solid transparent;\n  border-right: 14px solid transparent;\n  border-top: 12px solid #fff;\n  bottom: 40px;\n  position: absolute;\n  right: 43px;\n}\n.unread {\n  text-align: center;\n  border-radius: 50%;\n  font-size: 14px;\n  height: 20px;\n  width: 20px;\n  position: absolute;\n  background: #f24f2d;\n  color: #fff;\n}\n.back-menu {\n  font-size: 13px;\n  border-radius: 2px;\n  position: absolute;\n  background: rgba(255, 255, 255, 0.9);\n  color: #000;\n  width: 80px;\n  height: 35px;\n  text-align: center;\n  line-height: 35px;\n  display: none;\n}\n.voice {\n  position: fixed;\n  z-index: 1500;\n  bottom: 52px;\n  left: 0;\n  right: 0;\n  top: 80px;\n  background: rgba(0, 0, 0, 0.8);\n}\n.close-voice {\n  position: absolute;\n  bottom: 60px;\n  left: 30px;\n  display: inline-block;\n  height: 50px;\n  width: 50px;\n  line-height: 50px;\n  border-radius: 50%;\n  text-align: center;\n  background: #fff;\n  color: black;\n}\n</style>\n"],"sourceRoot":"src/components"}]}