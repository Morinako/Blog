{"remainingRequest":"D:\\solarBlog-master\\solarBlog-master\\solarBlog-web\\frontDesk\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\solarBlog-master\\solarBlog-master\\solarBlog-web\\frontDesk\\src\\views\\album\\Photo.vue?vue&type=style&index=0&id=141ccd70&scoped=true&lang=css&","dependencies":[{"path":"D:\\solarBlog-master\\solarBlog-master\\solarBlog-web\\frontDesk\\src\\views\\album\\Photo.vue","mtime":1692914156000},{"path":"D:\\solarBlog-master\\solarBlog-master\\solarBlog-web\\frontDesk\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\solarBlog-master\\solarBlog-master\\solarBlog-web\\frontDesk\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\solarBlog-master\\solarBlog-master\\solarBlog-web\\frontDesk\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\solarBlog-master\\solarBlog-master\\solarBlog-web\\frontDesk\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"D:\\solarBlog-master\\solarBlog-master\\solarBlog-web\\frontDesk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\solarBlog-master\\solarBlog-master\\solarBlog-web\\frontDesk\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLnBob3RvLXdyYXAgewogIGRpc3BsYXk6IGZsZXg7CiAgZmxleC13cmFwOiB3cmFwOwp9Ci5waG90by1jb250YWluZXJ7CiAgd2lkdGg6IDI5MHB4OwogIGhlaWdodDogMjkwcHg7Cn0KLnBob3RvIHsKICBtYXJnaW46IDlweDsKICBjdXJzb3I6IHBvaW50ZXI7CiAgb2JqZWN0LWZpdDogY292ZXI7CiAgaGVpZ2h0OiAyMzBweDsKICB3aWR0aDogMjMwcHg7Cn0KLnBob3RvLXdyYXA6OmFmdGVyIHsKICBjb250ZW50OiAiIjsKICBkaXNwbGF5OiBibG9jazsKICBmbGV4LWdyb3c6IDk5OTk7Cn0KLnYtYnRuewogIG1hcmdpbi1sZWZ0OiAzMCU7Cn0KQG1lZGlhIChtYXgtd2lkdGg6IDc1OXB4KSB7CiAgLnBob3RvIHsKICAgIHdpZHRoOiAxMDAlOwogIH0KICAudi1idG57CiAgICBtYXJnaW4tbGVmdDogNDAlOwogIH0KfQo="},{"version":3,"sources":["Photo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Photo.vue","sourceRoot":"src/views/album","sourcesContent":["<template>\n  <div>\n    <!-- 相册列表 -->\n    <v-card class=\"blog-container\">\n      <div class=\"photo-wrap\">\n        <div class=\"photo-container\" v-for=\"(item, index) of photoList\" :key=\"index\">\n          <img class=\"photo\" :key=\"index\" :src=\"item\" @click=\"preview(index)\"/>\n          <v-btn\n                  class=\"v-btn\"\n                  color=\"info\"\n                  id=\"copy_text\"\n                  :data-clipboard-text=\"item\"\n                  @click=\"handleCopyFun(item)\"\n          >复制</v-btn>\n        </div>\n      </div>\n      <!-- 无限加载 -->\n      <infinite-loading @infinite=\"infiniteHandler\">\n        <div slot=\"no-more\" />\n        <div slot=\"no-results\" />\n      </infinite-loading>\n    </v-card>\n  </div>\n</template>\n\n<script>\nimport {getAlbumsPhotos} from \"../../api/file\";\nimport Clipboard from \"clipboard\";\n\nexport default {\n  data: function() {\n    return {\n      photoAlbumName: \"\",\n      photoAlbumCover: \"\",\n      photoList: [],\n      current: 1,\n      size: 10\n    };\n  },\n  methods: {\n    preview(index) {\n      this.$imagePreview({\n        images: this.photoList,\n        index: index\n      });\n    },\n    infiniteHandler($state) {\n      const params = {};\n      params.current = this.current;\n      params.size = this.size;\n      getAlbumsPhotos(params, this.$route.params.albumId).then(res => {\n        this.photoAlbumCover = res.data.photoAlbumCover;\n        this.photoAlbumName = res.data.photoAlbumName;\n        if (res.data.photoList.length) {\n          this.current++;\n          this.photoList.push(...res.data.photoList);\n          $state.loaded();\n        } else {\n          $state.complete();\n        }\n      });\n    },\n    // 操作：点击了复制按钮\n    handleCopyFun(item) {\n      console.log(item)\n      let clipboard = new Clipboard('#copy_text')\n      clipboard.on('success', e => {\n        console.log(e)\n        this.$toast({ type: \"success\", message: \"复制成功\" });\n        clipboard.destroy() // 释放内存\n      })\n      clipboard.on('error', e => {\n        console.log(e)\n        // 不支持复制\n        this.$toast({ type: \"error\", message: \"该浏览器不支持自动复制\" });\n        clipboard.destroy() // 释放内存\n      })\n    },\n  },\n  computed: {}\n};\n</script>\n\n<style scoped>\n.photo-wrap {\n  display: flex;\n  flex-wrap: wrap;\n}\n.photo-container{\n  width: 290px;\n  height: 290px;\n}\n.photo {\n  margin: 9px;\n  cursor: pointer;\n  object-fit: cover;\n  height: 230px;\n  width: 230px;\n}\n.photo-wrap::after {\n  content: \"\";\n  display: block;\n  flex-grow: 9999;\n}\n.v-btn{\n  margin-left: 30%;\n}\n@media (max-width: 759px) {\n  .photo {\n    width: 100%;\n  }\n  .v-btn{\n    margin-left: 40%;\n  }\n}\n</style>\n"]}]}