{"remainingRequest":"D:\\solarBlog-master\\solarBlog-master\\solarBlog-web\\frontDesk\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\solarBlog-master\\solarBlog-master\\solarBlog-web\\frontDesk\\src\\views\\album\\Photo.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\solarBlog-master\\solarBlog-master\\solarBlog-web\\frontDesk\\src\\views\\album\\Photo.vue","mtime":1692914156000},{"path":"D:\\solarBlog-master\\solarBlog-master\\solarBlog-web\\frontDesk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\solarBlog-master\\solarBlog-master\\solarBlog-web\\frontDesk\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\solarBlog-master\\solarBlog-master\\solarBlog-web\\frontDesk\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"D:\\solarBlog-master\\solarBlog-master\\solarBlog-web\\frontDesk\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\solarBlog-master\\solarBlog-master\\solarBlog-web\\frontDesk\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7Z2V0QWxidW1zUGhvdG9zfSBmcm9tICIuLi8uLi9hcGkvZmlsZSI7CmltcG9ydCBDbGlwYm9hcmQgZnJvbSAiY2xpcGJvYXJkIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbigpIHsKICAgIHJldHVybiB7CiAgICAgIHBob3RvQWxidW1OYW1lOiAiIiwKICAgICAgcGhvdG9BbGJ1bUNvdmVyOiAiIiwKICAgICAgcGhvdG9MaXN0OiBbXSwKICAgICAgY3VycmVudDogMSwKICAgICAgc2l6ZTogMTAKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBwcmV2aWV3KGluZGV4KSB7CiAgICAgIHRoaXMuJGltYWdlUHJldmlldyh7CiAgICAgICAgaW1hZ2VzOiB0aGlzLnBob3RvTGlzdCwKICAgICAgICBpbmRleDogaW5kZXgKICAgICAgfSk7CiAgICB9LAogICAgaW5maW5pdGVIYW5kbGVyKCRzdGF0ZSkgewogICAgICBjb25zdCBwYXJhbXMgPSB7fTsKICAgICAgcGFyYW1zLmN1cnJlbnQgPSB0aGlzLmN1cnJlbnQ7CiAgICAgIHBhcmFtcy5zaXplID0gdGhpcy5zaXplOwogICAgICBnZXRBbGJ1bXNQaG90b3MocGFyYW1zLCB0aGlzLiRyb3V0ZS5wYXJhbXMuYWxidW1JZCkudGhlbihyZXMgPT4gewogICAgICAgIHRoaXMucGhvdG9BbGJ1bUNvdmVyID0gcmVzLmRhdGEucGhvdG9BbGJ1bUNvdmVyOwogICAgICAgIHRoaXMucGhvdG9BbGJ1bU5hbWUgPSByZXMuZGF0YS5waG90b0FsYnVtTmFtZTsKICAgICAgICBpZiAocmVzLmRhdGEucGhvdG9MaXN0Lmxlbmd0aCkgewogICAgICAgICAgdGhpcy5jdXJyZW50Kys7CiAgICAgICAgICB0aGlzLnBob3RvTGlzdC5wdXNoKC4uLnJlcy5kYXRhLnBob3RvTGlzdCk7CiAgICAgICAgICAkc3RhdGUubG9hZGVkKCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICRzdGF0ZS5jb21wbGV0ZSgpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy8g5pON5L2c77ya54K55Ye75LqG5aSN5Yi25oyJ6ZKuCiAgICBoYW5kbGVDb3B5RnVuKGl0ZW0pIHsKICAgICAgY29uc29sZS5sb2coaXRlbSkKICAgICAgbGV0IGNsaXBib2FyZCA9IG5ldyBDbGlwYm9hcmQoJyNjb3B5X3RleHQnKQogICAgICBjbGlwYm9hcmQub24oJ3N1Y2Nlc3MnLCBlID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhlKQogICAgICAgIHRoaXMuJHRvYXN0KHsgdHlwZTogInN1Y2Nlc3MiLCBtZXNzYWdlOiAi5aSN5Yi25oiQ5YqfIiB9KTsKICAgICAgICBjbGlwYm9hcmQuZGVzdHJveSgpIC8vIOmHiuaUvuWGheWtmAogICAgICB9KQogICAgICBjbGlwYm9hcmQub24oJ2Vycm9yJywgZSA9PiB7CiAgICAgICAgY29uc29sZS5sb2coZSkKICAgICAgICAvLyDkuI3mlK/mjIHlpI3liLYKICAgICAgICB0aGlzLiR0b2FzdCh7IHR5cGU6ICJlcnJvciIsIG1lc3NhZ2U6ICLor6XmtY/op4jlmajkuI3mlK/mjIHoh6rliqjlpI3liLYiIH0pOwogICAgICAgIGNsaXBib2FyZC5kZXN0cm95KCkgLy8g6YeK5pS+5YaF5a2YCiAgICAgIH0pCiAgICB9LAogIH0sCiAgY29tcHV0ZWQ6IHt9Cn07Cg=="},{"version":3,"sources":["Photo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Photo.vue","sourceRoot":"src/views/album","sourcesContent":["<template>\n  <div>\n    <!-- 相册列表 -->\n    <v-card class=\"blog-container\">\n      <div class=\"photo-wrap\">\n        <div class=\"photo-container\" v-for=\"(item, index) of photoList\" :key=\"index\">\n          <img class=\"photo\" :key=\"index\" :src=\"item\" @click=\"preview(index)\"/>\n          <v-btn\n                  class=\"v-btn\"\n                  color=\"info\"\n                  id=\"copy_text\"\n                  :data-clipboard-text=\"item\"\n                  @click=\"handleCopyFun(item)\"\n          >复制</v-btn>\n        </div>\n      </div>\n      <!-- 无限加载 -->\n      <infinite-loading @infinite=\"infiniteHandler\">\n        <div slot=\"no-more\" />\n        <div slot=\"no-results\" />\n      </infinite-loading>\n    </v-card>\n  </div>\n</template>\n\n<script>\nimport {getAlbumsPhotos} from \"../../api/file\";\nimport Clipboard from \"clipboard\";\n\nexport default {\n  data: function() {\n    return {\n      photoAlbumName: \"\",\n      photoAlbumCover: \"\",\n      photoList: [],\n      current: 1,\n      size: 10\n    };\n  },\n  methods: {\n    preview(index) {\n      this.$imagePreview({\n        images: this.photoList,\n        index: index\n      });\n    },\n    infiniteHandler($state) {\n      const params = {};\n      params.current = this.current;\n      params.size = this.size;\n      getAlbumsPhotos(params, this.$route.params.albumId).then(res => {\n        this.photoAlbumCover = res.data.photoAlbumCover;\n        this.photoAlbumName = res.data.photoAlbumName;\n        if (res.data.photoList.length) {\n          this.current++;\n          this.photoList.push(...res.data.photoList);\n          $state.loaded();\n        } else {\n          $state.complete();\n        }\n      });\n    },\n    // 操作：点击了复制按钮\n    handleCopyFun(item) {\n      console.log(item)\n      let clipboard = new Clipboard('#copy_text')\n      clipboard.on('success', e => {\n        console.log(e)\n        this.$toast({ type: \"success\", message: \"复制成功\" });\n        clipboard.destroy() // 释放内存\n      })\n      clipboard.on('error', e => {\n        console.log(e)\n        // 不支持复制\n        this.$toast({ type: \"error\", message: \"该浏览器不支持自动复制\" });\n        clipboard.destroy() // 释放内存\n      })\n    },\n  },\n  computed: {}\n};\n</script>\n\n<style scoped>\n.photo-wrap {\n  display: flex;\n  flex-wrap: wrap;\n}\n.photo-container{\n  width: 290px;\n  height: 290px;\n}\n.photo {\n  margin: 9px;\n  cursor: pointer;\n  object-fit: cover;\n  height: 230px;\n  width: 230px;\n}\n.photo-wrap::after {\n  content: \"\";\n  display: block;\n  flex-grow: 9999;\n}\n.v-btn{\n  margin-left: 30%;\n}\n@media (max-width: 759px) {\n  .photo {\n    width: 100%;\n  }\n  .v-btn{\n    margin-left: 40%;\n  }\n}\n</style>\n"]}]}